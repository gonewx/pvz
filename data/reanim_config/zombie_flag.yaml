id: zombie_flag
name: Zombie_Flag
reanim_file: data/reanim/Zombie.reanim
default_animation: anim_idle
scale: 1
images:
    IMAGE_REANIM_ZOMBIE_BODY: assets/reanim/Zombie_body.png
    IMAGE_REANIM_ZOMBIE_FLAGHAND: assets/reanim/Zombie_flaghand.png
    IMAGE_REANIM_ZOMBIE_HEAD: assets/reanim/Zombie_head.png
    IMAGE_REANIM_ZOMBIE_HAIR: assets/reanim/Zombie_hair.png
    IMAGE_REANIM_ZOMBIE_INNERARM_HAND: assets/reanim/Zombie_innerarm_hand.png
    IMAGE_REANIM_ZOMBIE_INNERARM_LOWER: assets/reanim/Zombie_innerarm_lower.png
    IMAGE_REANIM_ZOMBIE_INNERARM_UPPER: assets/reanim/Zombie_innerarm_upper.png
    IMAGE_REANIM_ZOMBIE_INNERLEG_FOOT: assets/reanim/Zombie_innerleg_foot.png
    IMAGE_REANIM_ZOMBIE_INNERLEG_LOWER: assets/reanim/Zombie_innerleg_lower.png
    IMAGE_REANIM_ZOMBIE_INNERLEG_UPPER: assets/reanim/Zombie_innerleg_upper.png
    IMAGE_REANIM_ZOMBIE_JAW: assets/reanim/Zombie_jaw.png
    IMAGE_REANIM_ZOMBIE_NECK: assets/reanim/Zombie_neck.png
    IMAGE_REANIM_ZOMBIE_OUTERARM_HAND: assets/reanim/Zombie_outerarm_hand.png
    IMAGE_REANIM_ZOMBIE_OUTERARM_LOWER: assets/reanim/Zombie_outerarm_lower.png
    IMAGE_REANIM_ZOMBIE_OUTERARM_UPPER: assets/reanim/Zombie_outerarm_upper.png
    IMAGE_REANIM_ZOMBIE_OUTERLEG_FOOT: assets/reanim/Zombie_outerleg_foot.png
    IMAGE_REANIM_ZOMBIE_OUTERLEG_LOWER: assets/reanim/Zombie_outerleg_lower.png
    IMAGE_REANIM_ZOMBIE_OUTERLEG_UPPER: assets/reanim/Zombie_outerleg_upper.png
    IMAGE_REANIM_ZOMBIE_TIE: assets/reanim/Zombie_tie.png
    IMAGE_REANIM_ZOMBIE_TONGUE: assets/reanim/Zombie_tongue.png

# 共享隐藏轨道配置（旗帜僵尸专用）
shared:
    flag_zombie_hidden_tracks: &flag_zombie_hidden_tracks
        - anim_bucket
        - anim_cone
        - anim_screendoor
        - Zombie_innerarm_screendoor_hand
        - Zombie_outerarm_screendoor
        - Zombie_duckytube
        - Zombie_mustache
        - anim_innerarm3

available_animations:
    - name: anim_idle
      display_name: idle
    - name: anim_walk
      display_name: walk
    - name: anim_eat
      display_name: eat
    - name: anim_death
      display_name: death

# 动画组合配置：旗帜僵尸需要显示旗帜手，隐藏普通右臂（innerarm）
# 注意：不隐藏 Zombie_flaghand（旗帜僵尸需要显示旗帜手）
# 注意：不隐藏 Zombie_outerarm*（左臂需要正常显示）
# 注意：不隐藏 anim_innerarm1/2（旗帜手只替换手部，保留上臂和下臂）
animation_combos:
    - name: idle
      display_name: 待机
      animations:
          - anim_idle
      binding_strategy: auto
      hidden_tracks: *flag_zombie_hidden_tracks

    - name: walk
      display_name: 行走
      animations:
          - anim_walk
      binding_strategy: auto
      hidden_tracks: *flag_zombie_hidden_tracks

    - name: walk_damaged
      display_name: 行走（旗帜受损）
      animations:
          - anim_walk
      binding_strategy: auto
      hidden_tracks: *flag_zombie_hidden_tracks
      # 使用损坏的旗帜图片（覆盖叠加动画中的旗帜）
      image_overrides:
          IMAGE_REANIM_ZOMBIE_FLAG1: assets/reanim/Zombie_flag3.png

    - name: eat
      display_name: 啃食
      animations:
          - anim_eat
      binding_strategy: auto
      hidden_tracks: *flag_zombie_hidden_tracks
      # 啃食时冻结右手（拿旗手）相关轨道，保持拿旗姿势
      frozen_tracks:
          - Zombie_flaghand
          - anim_innerarm1
          - anim_innerarm2

    - name: eat_damaged
      display_name: 啃食（旗帜受损）
      animations:
          - anim_eat
      binding_strategy: auto
      hidden_tracks: *flag_zombie_hidden_tracks
      frozen_tracks:
          - Zombie_flaghand
          - anim_innerarm1
          - anim_innerarm2
      # 使用损坏的旗帜图片（覆盖叠加动画中的旗帜）
      image_overrides:
          IMAGE_REANIM_ZOMBIE_FLAG1: assets/reanim/Zombie_flag3.png

    - name: death
      display_name: 死亡
      animations:
          - anim_death
      loop: false
      binding_strategy: auto
      hidden_tracks:
          - anim_bucket
          - anim_cone
          - anim_screendoor
          - Zombie_innerarm_screendoor_hand
          - Zombie_outerarm_screendoor
          - Zombie_duckytube
          - Zombie_mustache
          - anim_innerarm3
          - Zombie_flaghand  # 死亡时旗帜掉落，隐藏旗帜手

    - name: death_damaged
      display_name: 死亡（旗帜受损）
      animations:
          - anim_death
      loop: false
      binding_strategy: auto
      hidden_tracks:
          - anim_bucket
          - anim_cone
          - anim_screendoor
          - Zombie_innerarm_screendoor_hand
          - Zombie_outerarm_screendoor
          - Zombie_duckytube
          - Zombie_mustache
          - anim_innerarm3
          - Zombie_flaghand  # 死亡时旗帜掉落，隐藏旗帜手
      # 使用损坏的旗帜图片（覆盖叠加动画中的旗帜）
      image_overrides:
          IMAGE_REANIM_ZOMBIE_FLAG1: assets/reanim/Zombie_flag3.png
