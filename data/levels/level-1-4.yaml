id: "1-4"
name: "前院白天 1-4"
description: "综合教学测试，引入铁桶僵尸"

# Story 8.1: 关卡配置增强
openingType: "standard"       # 标准开场动画
enabledLanes: [1, 2, 3, 4, 5]
availablePlants:              # 可用植物
  - "peashooter"
  - "sunflower"
  - "cherrybomb"
  - "wallnut"
skipOpening: false            # 不跳过开场
initialSun: 500               # 初始阳光50

# Story 8.6: 工具解锁
unlockTools: ["shovel"]       # 完成后解锁铲子工具

# 草皮配置（全行）
# 关卡 1-4: 延续上一关场景，第2,3,4行草皮已铺好，第1,5行需要动画铺草皮
# 两阶段渲染：
#   阶段1（初始）: 显示3行草皮（IMAGE_SOD3ROW），延续1-3关卡的场景
#   阶段2（动画）: 渐进显示IMAGE_BACKGROUND1（5行整体草皮），覆盖底层的3行草皮
# 技术要点：
#   - 底层背景：IMAGE_BACKGROUND1UNSODDED + 3行草皮（IMAGE_SOD3ROW）
#   - 叠加层：IMAGE_BACKGROUND1（5行整体草皮）
#   - 叠加层根据草皮卷位置渐进显示（从 256px 扩展到 995px），实现从3行草皮到整体草皮的无缝过渡
backgroundImage: "IMAGE_BACKGROUND1UNSODDED"  # 使用未铺草皮背景
sodRowImage: "IMAGE_SOD3ROW"                  # 底层使用3行草皮
sodRowImageAnim: "IMAGE_BACKGROUND1"          # 叠加层使用整体背景图（新增字段）
showSoddingAnim: true                         # 播放铺草皮动画
soddingAnimDelay: 0.0                         # 开场动画完成后立即播放
preSoddedLanes: [2, 3, 4]                     # 预先渲染第2,3,4行草皮到底层背景(注意是一张整体图片)

# Story 11.4：铺草皮粒子特效配置
sodRollAnimation: true                        # 启用铺草皮动画
sodRollParticles: true                        # 启用土粒飞溅特效
soddingAnimLanes: [1, 5]                      # 在第1,5行播放动画（第2,3,4行跳过）

# 波次配置：1面旗帜（3个小波次 + 1个旗帜波）
waves:
  # 第1波：游戏开始后20秒，4个普通僵尸
  - delay: 1
    zombies:
      - type: "basic"
        lanes: [1, 2, 3, 4, 5]
        count: 1
        spawnInterval: 2.0

  # # 第2波：第1波消灭后15秒，5个僵尸（含1个路障）
  # - minDelay: 15
  #   zombies:
  #     - type: "basic"
  #       lanes: [1, 2, 3, 4, 5]
  #       count: 4
  #       spawnInterval: 2.0
  #     - type: "conehead"
  #       lanes: [1, 2, 3, 4, 5]
  #       count: 1
  #       spawnInterval: 0

  # # 第3波：第2波消灭后12秒，6个僵尸（含2个路障）
  # - minDelay: 12
  #   zombies:
  #     - type: "basic"
  #       lanes: [1, 2, 3, 4, 5]
  #       count: 4
  #       spawnInterval: 1.5
  #     - type: "conehead"
  #       lanes: [1, 2, 3, 4, 5]
  #       count: 2
  #       spawnInterval: 1.0

  # # 第1面旗帜波（第4波）：进度条结束位置，12个僵尸（含4个路障，2个铁桶）
  # - isFlag: true
  #   flagIndex: 1
  #   minDelay: 5
  #   zombies:
  #     - type: "basic"
  #       lanes: [1, 2, 3, 4, 5]
  #       count: 6
  #       spawnInterval: 1.0
  #     - type: "conehead"
  #       lanes: [1, 2, 3, 4, 5]
  #       count: 4
  #       spawnInterval: 1.2
  #     - type: "buckethead"  # 铁桶僵尸
  #       lanes: [1, 2, 3, 4, 5]
  #       count: 2
  #       spawnInterval: 1.5
