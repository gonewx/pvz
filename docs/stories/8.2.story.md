# Story 8.2: å…³å¡ 1-1 æ•™å­¦å¼•å¯¼ç³»ç»Ÿ

## Status
Draft

## Story
**As a** æ–°ç©å®¶,
**I want** åœ¨å…³å¡ 1-1 ä¸­è·å¾—åˆ†æ­¥æ•™å­¦å¼•å¯¼,
**so that** æˆ‘èƒ½å­¦ä¼šæ¸¸æˆçš„åŸºç¡€æ“ä½œï¼ˆæ”¶é›†é˜³å…‰ã€é€‰æ‹©æ¤ç‰©ã€ç§æ¤æ¤ç‰©ã€é˜²å¾¡åƒµå°¸ï¼‰ã€‚

## Acceptance Criteria

1. **å®ç° TutorialComponent ç»„ä»¶** (`pkg/components/tutorial_component.go`)
   - å­˜å‚¨å½“å‰æ•™å­¦æ­¥éª¤ç´¢å¼•
   - å­˜å‚¨å·²å®Œæˆçš„æ­¥éª¤åˆ—è¡¨
   - å­˜å‚¨æ•™å­¦æ˜¯å¦æ¿€æ´»çš„çŠ¶æ€

2. **å®ç° TutorialSystem ç³»ç»Ÿ** (`pkg/systems/tutorial_system.go`)
   - ä» LevelConfig åŠ è½½æ•™å­¦æ­¥éª¤é…ç½®
   - æ£€æµ‹æ•™å­¦è§¦å‘æ¡ä»¶ï¼ˆå¦‚ "gameStart", "sunCollected", "plantPlaced"ï¼‰
   - ç®¡ç†æ•™å­¦æ­¥éª¤è¿›åº¦
   - ä¸ UISystem é€šä¿¡æ˜¾ç¤ºæ•™å­¦æ–‡æœ¬
   - åœ¨æ•™å­¦å®Œæˆåç¦ç”¨ç³»ç»Ÿ

3. **å®ç°æ•™å­¦æ–‡æœ¬ UI ç»„ä»¶**
   - åˆ›å»º `TutorialTextComponent`ï¼ˆUIComponentçš„ä¸€ç§ï¼‰
   - åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ•™å­¦æç¤ºæ–‡æœ¬ï¼ˆåŠé€æ˜èƒŒæ™¯æ¡† + æ–‡æœ¬ï¼‰
   - æ”¯æŒè‡ªåŠ¨æ¶ˆå¤±æˆ–ç‚¹å‡»æ¶ˆå¤±
   - ä½ç½®ï¼šå±å¹•ä¸­ä¸Šæ–¹ï¼Œä¸é®æŒ¡æ¸¸æˆåŒºåŸŸ

4. **æ›´æ–° 1-1 å…³å¡é…ç½®** (`data/levels/level-1-1.yaml`)
   - ç¡®è®¤ `enabledLanes: [3]`ï¼ˆåªæœ‰ç¬¬3è¡Œï¼‰
   - ç¡®è®¤ `openingType: "tutorial"`
   - ç¡®è®¤ `skipOpening: true`ï¼ˆæ— å¼€åœºåŠ¨ç”»ï¼‰
   - **æ·»åŠ æ•™å­¦æ­¥éª¤é…ç½®ï¼ˆä½¿ç”¨ LawnStrings.txt æ–‡æœ¬é”®ï¼‰**ï¼š
     ```yaml
     tutorialSteps:
       - trigger: "gameStart"
         textKey: "ADVICE_CLICK_ON_SUN"  # "ç‚¹å‡»æ”¶é›†æ‰è½çš„é˜³å…‰ï¼"
         action: "waitForSunClick"
       - trigger: "sunClicked"
         textKey: "ADVICE_CLICKED_ON_SUN"  # "ç»§ç»­æ”¶é›†é˜³å…‰ï¼ä½ éœ€è¦ä»–ä»¬æ¥ç§ä¸‹æ›´å¤šçš„æ¤ç‰©ï¼"
         action: "waitForEnoughSun"
       - trigger: "enoughSun"
         textKey: "ADVICE_CLICK_SEED_PACKET"  # "ç‚¹å‡»æ‹¾å–ç§å­åŒ…ï¼"
         action: "waitForSeedClick"
       - trigger: "seedClicked"
         textKey: "ADVICE_CLICK_ON_GRASS"  # "ç‚¹å‡»è‰åœ°ç§ä¸‹ä½ çš„ç§å­ï¼"
         action: "waitForPlantPlaced"
       - trigger: "plantPlaced"
         textKey: "ADVICE_PLANTED_PEASHOOTER"  # "å¹²å¾—æ¼‚äº®ï¼"
         action: "waitForZombieSpawn"
       - trigger: "zombieSpawned"
         textKey: "ADVICE_ZOMBIE_ONSLAUGHT"  # "åˆ«è®©åƒµå°¸é è¿‘ä½ çš„æˆ¿å­ï¼"
         action: "waitForLevelEnd"
     ```
   - **åƒµå°¸é…ç½®**ï¼šåªæœ‰1æ³¢ï¼Œ2-3åªæ™®é€šåƒµå°¸ï¼Œå‡ºç°é—´éš”è¾ƒé•¿

5. **ä¸ç°æœ‰ç³»ç»Ÿé›†æˆ**
   - **GameScene**ï¼šåˆ›å»º TutorialSystem å®ä¾‹ï¼ˆä»…å½“ `openingType == "tutorial"` æ—¶ï¼‰
   - **InputSystem**ï¼šæ•™å­¦æ¿€æ´»æ—¶ï¼Œé™åˆ¶æŸäº›æ“ä½œï¼ˆå¦‚ï¼šæ”¶é›†é˜³å…‰å‰ç¦æ­¢é€‰æ‹©æ¤ç‰©å¡ç‰‡ï¼‰
   - **UISystem**ï¼šæ¸²æŸ“æ•™å­¦æ–‡æœ¬ç»„ä»¶
   - **WaveSpawnSystem**ï¼šæ•™å­¦å…³å¡ä½¿ç”¨æ…¢é€Ÿåƒµå°¸ç”ŸæˆèŠ‚å¥

6. **æ•™å­¦æµç¨‹éªŒè¯**ï¼ˆ6ä¸ªæ•™å­¦æ­¥éª¤ï¼‰
   - **æ­¥éª¤1**: æ¸¸æˆå¼€å§‹ â†’ æ˜¾ç¤º"ç‚¹å‡»æ”¶é›†æ‰è½çš„é˜³å…‰ï¼"
   - **æ­¥éª¤2**: ç‚¹å‡»é˜³å…‰ â†’ æ˜¾ç¤º"ç»§ç»­æ”¶é›†é˜³å…‰ï¼ä½ éœ€è¦ä»–ä»¬æ¥ç§ä¸‹æ›´å¤šçš„æ¤ç‰©ï¼"
   - **æ­¥éª¤3**: é˜³å…‰è¾¾åˆ°100 â†’ æ˜¾ç¤º"ç‚¹å‡»æ‹¾å–ç§å­åŒ…ï¼"
   - **æ­¥éª¤4**: ç‚¹å‡»è±Œè±†å°„æ‰‹å¡ç‰‡ â†’ æ˜¾ç¤º"ç‚¹å‡»è‰åœ°ç§ä¸‹ä½ çš„ç§å­ï¼"
   - **æ­¥éª¤5**: ç§æ¤è±Œè±†å°„æ‰‹ â†’ æ˜¾ç¤º"å¹²å¾—æ¼‚äº®ï¼"
   - **æ­¥éª¤6**: åƒµå°¸ç”Ÿæˆ â†’ æ˜¾ç¤º"åˆ«è®©åƒµå°¸é è¿‘ä½ çš„æˆ¿å­ï¼"
   - å…³å¡ç»“æŸåè§£é”**å‘æ—¥è‘µ**ï¼ˆéè±Œè±†å°„æ‰‹ï¼Œé€šè¿‡ PlantUnlockManagerï¼‰

7. **å‘åå…¼å®¹æ€§**
   - éæ•™å­¦å…³å¡ï¼ˆ`tutorialSteps` ä¸ºç©ºæˆ–ç¼ºå¤±ï¼‰ä¸åˆ›å»º TutorialSystem
   - æ•™å­¦ç³»ç»Ÿä¸å½±å“å…¶ä»–å…³å¡çš„æ­£å¸¸è¿è¡Œ

## Tasks / Subtasks

### Task 1: åˆ›å»º TutorialComponent ç»„ä»¶ (AC: 1)
- [ ] åˆ›å»º `pkg/components/tutorial_component.go`:
  - [ ] å®šä¹‰ `TutorialComponent` ç»“æ„ä½“ï¼š
    ```go
    type TutorialComponent struct {
        CurrentStepIndex   int               // å½“å‰æ•™å­¦æ­¥éª¤ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰
        CompletedSteps     map[string]bool   // å·²å®Œæˆçš„æ­¥éª¤ ID æ˜ å°„
        IsActive           bool              // æ•™å­¦ç³»ç»Ÿæ˜¯å¦æ¿€æ´»
        TutorialSteps      []config.TutorialStep // æ•™å­¦æ­¥éª¤é…ç½®ï¼ˆä» LevelConfig å¤åˆ¶ï¼‰
    }
    ```
  - [ ] æ·»åŠ  GoDoc æ³¨é‡Šè¯´æ˜ç»„ä»¶ç”¨é€”
  - [ ] ç¡®ä¿ç»“æ„ä½“ä¸ºçº¯æ•°æ®ï¼ˆæ— æ–¹æ³•ï¼‰

### Task 2: åˆ›å»º TutorialTextComponent UI ç»„ä»¶ (AC: 3)
- [ ] åˆ›å»º `pkg/components/tutorial_text_component.go`:
  - [ ] å®šä¹‰ `TutorialTextComponent` ç»“æ„ä½“ï¼š
    ```go
    type TutorialTextComponent struct {
        Text            string   // æ•™å­¦æ–‡æœ¬å†…å®¹
        DisplayTime     float64  // å·²æ˜¾ç¤ºæ—¶é—´ï¼ˆç§’ï¼‰
        MaxDisplayTime  float64  // æœ€å¤§æ˜¾ç¤ºæ—¶é—´ï¼ˆ0è¡¨ç¤ºæ— é™ï¼Œéœ€è¦ç©å®¶æ‰‹åŠ¨å®Œæˆæ­¥éª¤ï¼‰
        BackgroundAlpha float64  // èƒŒæ™¯é€æ˜åº¦ï¼ˆ0.0-1.0ï¼‰
    }
    ```
  - [ ] æ·»åŠ  GoDoc æ³¨é‡Š

### Task 3: å®ç° LawnStrings.txt åŠ è½½å™¨ (AC: 2, 3)
- [ ] åˆ›å»º `pkg/game/lawn_strings.go`:
  - [ ] å®šä¹‰ `LawnStrings` ç»“æ„ä½“ï¼š
    ```go
    type LawnStrings struct {
        strings map[string]string  // é”® -> æ–‡æœ¬æ˜ å°„
    }
    ```
  - [ ] å®ç° `NewLawnStrings(filePath string) (*LawnStrings, error)`
    - [ ] è¯»å– `assets/properties/LawnStrings.txt`
    - [ ] è§£ææ ¼å¼ï¼š`[KEY]\næ–‡æœ¬\n`
    - [ ] è¿”å›å­—ç¬¦ä¸²æ˜ å°„è¡¨
  - [ ] å®ç° `GetString(key string) string`
    - [ ] æ ¹æ®é”®è¿”å›æ–‡æœ¬
    - [ ] å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¿”å› `"[" + key + "]"`ï¼ˆè°ƒè¯•ç”¨ï¼‰
  - [ ] æ·»åŠ  GoDoc æ³¨é‡Š
- [ ] ä¿®æ”¹ `pkg/game/game_state.go`:
  - [ ] æ·»åŠ  `LawnStrings *game.LawnStrings` å­—æ®µ
  - [ ] åœ¨åˆå§‹åŒ–æ—¶åŠ è½½ LawnStrings.txt
- [ ] åˆ›å»ºå•å…ƒæµ‹è¯• `pkg/game/lawn_strings_test.go`:
  - [ ] `TestLawnStrings_Load`: éªŒè¯æ–‡ä»¶åŠ è½½
  - [ ] `TestLawnStrings_GetString`: éªŒè¯æ–‡æœ¬è·å–
  - [ ] `TestLawnStrings_MissingKey`: éªŒè¯ç¼ºå¤±é”®å¤„ç†

### Task 4: å®ç° TutorialSystem æ ¸å¿ƒé€»è¾‘ (AC: 2)
- [ ] åˆ›å»º `pkg/systems/tutorial_system.go`:
  - [ ] å®šä¹‰ `TutorialSystem` ç»“æ„ä½“ï¼š
    ```go
    type TutorialSystem struct {
        entityManager  *ecs.EntityManager
        gameState      *game.GameState
        tutorialEntity ecs.EntityID         // æ•™å­¦å®ä½“ID
    }
    ```
  - [ ] å®ç° `NewTutorialSystem(em *ecs.EntityManager, gs *game.GameState, levelConfig *config.LevelConfig) *TutorialSystem`
    - [ ] åˆ›å»ºæ•™å­¦å®ä½“
    - [ ] æ·»åŠ  `TutorialComponent`ï¼Œå¤åˆ¶ `levelConfig.TutorialSteps`
    - [ ] è®¾ç½® `IsActive = true`
    - [ ] è¿”å›ç³»ç»Ÿå®ä¾‹
  - [ ] å®ç° `Update(dt float64)` æ–¹æ³•ï¼š
    - [ ] æŸ¥è¯¢ TutorialComponent å®ä½“ï¼ˆä½¿ç”¨æ³›å‹ APIï¼‰
    - [ ] å¦‚æœ `!IsActive`ï¼Œç›´æ¥è¿”å›ï¼ˆæ•™å­¦å·²å®Œæˆï¼‰
    - [ ] è·å–å½“å‰æ­¥éª¤ `currentStep := tutorial.TutorialSteps[tutorial.CurrentStepIndex]`
    - [ ] æ£€æŸ¥è§¦å‘æ¡ä»¶æ˜¯å¦æ»¡è¶³ï¼š
      - [ ] `"gameStart"`: æ¸¸æˆå¼€å§‹æ—¶ç«‹å³è§¦å‘ï¼ˆåœ¨ NewTutorialSystem ä¸­æ ‡è®°ï¼‰
      - [ ] `"sunCollected"`: æ£€æŸ¥ GameState æ˜¯å¦æœ‰é˜³å…‰å¢åŠ 
      - [ ] `"plantPlaced"`: æ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„æ¤ç‰©å®ä½“åˆ›å»º
      - [ ] `"zombieKilled"`: æ£€æŸ¥åƒµå°¸æ˜¯å¦è¢«å‡»æ€
    - [ ] å¦‚æœè§¦å‘æ¡ä»¶æ»¡è¶³ï¼š
      - [ ] **ä» LawnStrings è·å–æ–‡æœ¬**ï¼š`text := s.gameState.LawnStrings.GetString(currentStep.TextKey)`
      - [ ] æ˜¾ç¤ºæ•™å­¦æ–‡æœ¬ï¼ˆåˆ›å»ºæˆ–æ›´æ–° TutorialTextComponentï¼Œä½¿ç”¨ä» LawnStrings åŠ è½½çš„æ–‡æœ¬ï¼‰
      - [ ] æ ‡è®°å½“å‰æ­¥éª¤å·²å®Œæˆ `tutorial.CompletedSteps[currentStep.Trigger] = true`
      - [ ] ç§»åŠ¨åˆ°ä¸‹ä¸€æ­¥ `tutorial.CurrentStepIndex++`
      - [ ] å¦‚æœæ‰€æœ‰æ­¥éª¤å®Œæˆï¼Œè®¾ç½® `IsActive = false`
  - [ ] å®ç°è¾…åŠ©æ–¹æ³•ï¼š
    - [ ] `checkTriggerCondition(trigger string) bool` - æ£€æŸ¥è§¦å‘æ¡ä»¶
    - [ ] `showTutorialText(text string)` - æ˜¾ç¤ºæ•™å­¦æ–‡æœ¬
    - [ ] `hideTutorialText()` - éšè—æ•™å­¦æ–‡æœ¬
  - [ ] æ·»åŠ  GoDoc æ³¨é‡Š

### Task 5: å®ç°æ•™å­¦æ–‡æœ¬æ¸²æŸ“ (AC: 3)

**æŠ€æœ¯è¯´æ˜**ï¼šåŸç‰ˆæ¸¸æˆä½¿ç”¨**ä½å›¾å­—ä½“ï¼ˆBitmap Fontï¼‰**è€Œé TrueType å­—ä½“ã€‚ResourceManager ç°æœ‰çš„ `LoadFont()` æ–¹æ³•ä»…æ”¯æŒ TTF/OTFï¼Œéœ€è¦å®ç°ä½å›¾å­—ä½“æ¸²æŸ“ã€‚

- [ ] **é€‰é¡¹ 1ï¼ˆæ¨èï¼‰ï¼šç®€åŒ–å®ç° - ä½¿ç”¨ TrueType å­—ä½“æ¨¡æ‹Ÿ**
  - [ ] ä½¿ç”¨ç°æœ‰çš„ `ResourceManager.LoadFont("assets/fonts/briannetod.ttf", 28)`
  - [ ] ä½¿ç”¨ `text.Draw()` ç»˜åˆ¶ç™½è‰²æ–‡å­—
  - [ ] æ‰‹åŠ¨ç»˜åˆ¶é»„è‰²æè¾¹ï¼ˆåœ¨æ–‡å­—å‘¨å›´åç§»1-2åƒç´ ç»˜åˆ¶å¤šæ¬¡ï¼‰
  - [ ] **ä¼˜ç‚¹**: å®ç°å¿«é€Ÿï¼Œåˆ©ç”¨ç°æœ‰ç³»ç»Ÿ
  - [ ] **ç¼ºç‚¹**: ä¸åŸç‰ˆå­—ä½“ç•¥æœ‰å·®å¼‚
  
- [ ] **é€‰é¡¹ 2ï¼ˆå®Œæ•´å®ç°ï¼‰ï¼šä½å›¾å­—ä½“ç³»ç»Ÿ**
  - [ ] **åˆ›å»º BitmapFont ç»“æ„ä½“** (`pkg/utils/bitmap_font.go`):
    ```go
    type BitmapFont struct {
        Image       *ebiten.Image
        CharList    []rune           // å­—ç¬¦åˆ—è¡¨
        WidthList   []int            // æ¯ä¸ªå­—ç¬¦çš„å®½åº¦ï¼ˆåƒç´ ï¼‰
        RectList    []image.Rectangle // å­—ç¬¦åœ¨å›¾é›†ä¸­çš„çŸ©å½¢åŒºåŸŸ
        LineHeight  int              // è¡Œé«˜ï¼ˆé»˜è®¤ 54ï¼‰
    }
    ```
  - [ ] **å®ç°å­—ä½“åŠ è½½å™¨** (`LoadBitmapFont(imagePath, metaPath string)`):
    - [ ] åŠ è½½ PNG å›¾é›† (`HouseofTerror28.png`)
    - [ ] è§£æ TXT å…ƒæ•°æ® (`HouseofTerror28.txt`)
      - è§£æ CharList: `(' ','A','B',...)`
      - è§£æ WidthList: `(288,17,16,...)`
      - è§£æ RectList: `((2,55,288,39), (0,0,28,54),...)`
    - [ ] æ„å»ºå­—ç¬¦ â†’ çŸ©å½¢æ˜ å°„è¡¨
  - [ ] **å®ç°æ–‡æœ¬æ¸²æŸ“æ–¹æ³•** (`DrawText(screen *ebiten.Image, text string, x, y int, align string)`):
    ```go
    func (bf *BitmapFont) DrawText(screen *ebiten.Image, text string, x, y int, align string) {
        // 1. è®¡ç®—æ–‡æœ¬æ€»å®½åº¦ï¼ˆç”¨äºå±…ä¸­å¯¹é½ï¼‰
        totalWidth := 0
        for _, char := range text {
            idx := findCharIndex(bf.CharList, char)
            if idx >= 0 {
                totalWidth += bf.WidthList[idx]
            }
        }
        
        // 2. æ ¹æ®å¯¹é½è°ƒæ•´èµ·å§‹Xåæ ‡
        startX := x
        if align == "center" {
            startX = x - totalWidth/2
        }
        
        // 3. é€å­—ç¬¦ç»˜åˆ¶
        currentX := startX
        for _, char := range text {
            idx := findCharIndex(bf.CharList, char)
            if idx < 0 { continue }  // å­—ç¬¦ä¸å­˜åœ¨
            
            rect := bf.RectList[idx]
            charImg := bf.Image.SubImage(rect).(*ebiten.Image)
            
            op := &ebiten.DrawImageOptions{}
            op.GeoM.Translate(float64(currentX), float64(y))
            screen.DrawImage(charImg, op)
            
            currentX += bf.WidthList[idx]
        }
    }
    ```
  - [ ] **åœ¨ ResourceManager ä¸­é›†æˆ**:
    - [ ] æ·»åŠ  `LoadBitmapFont(id string) (*BitmapFont, error)`
    - [ ] ç¼“å­˜ä½å›¾å­—ä½“ `bitmapFontCache map[string]*BitmapFont`
  
- [ ] **ä¿®æ”¹ RenderSystem**:
  - [ ] åœ¨ `Draw()` æ–¹æ³•ä¸­æ·»åŠ æ•™å­¦æ–‡æœ¬æ¸²æŸ“é€»è¾‘
  - [ ] æŸ¥è¯¢ TutorialTextComponent å®ä½“ï¼ˆä½¿ç”¨æ³›å‹ APIï¼‰
  - [ ] **ç»˜åˆ¶æ•™å­¦æ–‡æœ¬ï¼ˆæ ¹æ®åŸç‰ˆæˆªå›¾ï¼‰**ï¼š
    - [ ] **ä½ç½®**: å±å¹•åº•éƒ¨ä¸­å¤®
      - Y: `screenHeight - 100` (è·åº•éƒ¨ 100px)
      - X: `screenWidth / 2`ï¼ˆæ°´å¹³å±…ä¸­ï¼‰
    - [ ] **å­—ä½“**: HouseofTerror28ï¼ˆå·²å†…ç½®ç™½è‰²+é»„è‰²æè¾¹æ•ˆæœï¼‰
    - [ ] **å­—ä½“å¤§å°**: 28pxï¼ˆå®é™…å­—ç¬¦é«˜åº¦ 54pxï¼‰
    - [ ] **å¯¹é½**: `"center"`ï¼ˆæ°´å¹³å±…ä¸­ï¼‰
    - [ ] **æ— èƒŒæ™¯æ¡†**ï¼ˆä¸åŸç‰ˆä¸€è‡´ï¼‰
  - [ ] **å¯é€‰ï¼šå‘ä¸Šç®­å¤´æŒ‡ç¤ºç¬¦**ï¼ˆä½¿ç”¨ `assets/particles/DownArrow.png`ï¼Œåç»­ä¼˜åŒ–ï¼‰
  - [ ] æ¸²æŸ“å±‚çº§ï¼šåœ¨UIä¹‹ä¸Šï¼Œé˜³å…‰ä¹‹ä¸‹

**æ¨èæ–¹æ¡ˆ**ï¼šå…ˆå®ç°**é€‰é¡¹ 1**ï¼ˆTrueType æ¨¡æ‹Ÿï¼‰ï¼Œå¦‚æœè§†è§‰æ•ˆæœä¸æ»¡æ„å†å‡çº§åˆ°**é€‰é¡¹ 2**ï¼ˆä½å›¾å­—ä½“ï¼‰ã€‚

### Task 6: æ›´æ–° 1-1 å…³å¡é…ç½® (AC: 4)
- [ ] ç¼–è¾‘ `data/levels/level-1-1.yaml`:
  - [ ] ç¡®è®¤ `openingType: "tutorial"`
  - [ ] ç¡®è®¤ `enabledLanes: [3]`
  - [ ] ç¡®è®¤ `skipOpening: true`
  - [ ] æ·»åŠ  `tutorialSteps` é…ç½®ï¼ˆä½¿ç”¨ LawnStrings.txt æ–‡æœ¬é”®ï¼‰ï¼š
    ```yaml
    tutorialSteps:
      - trigger: "gameStart"
        textKey: "ADVICE_CLICK_ON_SUN"
        action: "waitForSunClick"
      - trigger: "sunClicked"
        textKey: "ADVICE_CLICKED_ON_SUN"
        action: "waitForEnoughSun"
      - trigger: "enoughSun"
        textKey: "ADVICE_CLICK_SEED_PACKET"
        action: "waitForSeedClick"
      - trigger: "seedClicked"
        textKey: "ADVICE_CLICK_ON_GRASS"
        action: "waitForPlantPlaced"
      - trigger: "plantPlaced"
        textKey: "ADVICE_PLANTED_PEASHOOTER"
        action: "waitForZombieSpawn"
      - trigger: "zombieSpawned"
        textKey: "ADVICE_ZOMBIE_ONSLAUGHT"
        action: "waitForLevelEnd"
    ```
  - [ ] æ›´æ–°åƒµå°¸é…ç½®ï¼š
    - [ ] åªæœ‰1æ³¢åƒµå°¸
    - [ ] 2-3åªæ™®é€šåƒµå°¸
    - [ ] å‡ºç°æ—¶é—´ï¼š`time: 15, 25, 35`ï¼ˆé—´éš”è¾ƒé•¿ï¼‰

### Task 7: ä¸ç°æœ‰ç³»ç»Ÿé›†æˆ (AC: 5)
- [ ] ä¿®æ”¹ `pkg/scenes/game_scene.go`:
  - [ ] åœ¨ `NewGameScene()` ä¸­æ£€æŸ¥ `levelConfig.OpeningType`
  - [ ] å¦‚æœ `openingType == "tutorial"` ä¸” `len(levelConfig.TutorialSteps) > 0`ï¼š
    - [ ] åˆ›å»º TutorialSystem å®ä¾‹
    - [ ] æ·»åŠ åˆ°ç³»ç»Ÿåˆ—è¡¨ï¼ˆåœ¨ InputSystem ä¹‹åï¼ŒUISystem ä¹‹å‰ï¼‰
  - [ ] æ·»åŠ æ—¥å¿—è¾“å‡ºï¼š`log.Printf("Tutorial system activated for level %s", levelConfig.ID)`
- [ ] ä¿®æ”¹ `pkg/systems/input_system.go`ï¼ˆå¯é€‰ï¼Œå¦‚éœ€é™åˆ¶æ“ä½œï¼‰:
  - [ ] æ·»åŠ æ–¹æ³• `IsTutorialActive() bool`
  - [ ] åœ¨æ¤ç‰©é€‰æ‹©é€»è¾‘ä¸­æ£€æŸ¥æ•™å­¦çŠ¶æ€
  - [ ] å¦‚æœæ•™å­¦æœªå®Œæˆç‰¹å®šæ­¥éª¤ï¼Œç¦æ­¢æŸäº›æ“ä½œ
- [ ] ä¿®æ”¹ `pkg/systems/wave_spawn_system.go`ï¼ˆå¯é€‰ï¼‰:
  - [ ] æ£€æŸ¥ LevelConfig æ˜¯å¦ä¸ºæ•™å­¦å…³å¡
  - [ ] æ•™å­¦å…³å¡ä½¿ç”¨æ›´æ…¢çš„åƒµå°¸ç”ŸæˆèŠ‚å¥ï¼ˆå¯é€šè¿‡é…ç½®å®ç°ï¼‰

### Task 8: å…³å¡å®Œæˆåè§£é”å‘æ—¥è‘µ (AC: 6)
- [ ] ä¿®æ”¹ `pkg/systems/level_system.go` æˆ– `pkg/scenes/game_scene.go`:
  - [ ] åœ¨å…³å¡å®Œæˆæ£€æµ‹é€»è¾‘ä¸­ï¼ˆæ‰€æœ‰åƒµå°¸è¢«å‡»è´¥ï¼‰ï¼š
    - [ ] æ£€æŸ¥ `levelConfig.ID == "1-1"`
    - [ ] è°ƒç”¨ `gs.GetPlantUnlockManager().UnlockPlant("sunflower")`  // è§£é”å‘æ—¥è‘µï¼Œéè±Œè±†å°„æ‰‹
    - [ ] æ˜¾ç¤º"è·å¾—æ–°æ¤ç‰©"æç¤ºï¼ˆå¯é€‰ï¼Œåç»­Storyå®ç°ï¼‰
  - [ ] æ·»åŠ æ—¥å¿—è¾“å‡ºï¼š`log.Printf("Unlocked plant: sunflower")`

### Task 9: å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯• (AC: 6, 7)
- [ ] åˆ›å»º `pkg/systems/tutorial_system_test.go`:
  - [ ] `TestNewTutorialSystem`: éªŒè¯æ•™å­¦ç³»ç»Ÿåˆå§‹åŒ–
  - [ ] `TestTutorialSystem_TriggerGameStart`: éªŒè¯æ¸¸æˆå¼€å§‹è§¦å‘
  - [ ] `TestTutorialSystem_TriggerSunCollected`: æ¨¡æ‹Ÿæ”¶é›†é˜³å…‰ï¼ŒéªŒè¯æ­¥éª¤æ¨è¿›
  - [ ] `TestTutorialSystem_TriggerPlantPlaced`: æ¨¡æ‹Ÿç§æ¤æ¤ç‰©ï¼ŒéªŒè¯æ­¥éª¤æ¨è¿›
  - [ ] `TestTutorialSystem_AllStepsCompleted`: éªŒè¯æ‰€æœ‰æ­¥éª¤å®Œæˆåç³»ç»Ÿç¦ç”¨
- [ ] åˆ›å»º `pkg/config/level_config_tutorial_test.go`:
  - [ ] `TestLoadLevelConfig_TutorialSteps`: éªŒè¯æ•™å­¦æ­¥éª¤è§£æ
  - [ ] `TestLevel1_1_TutorialConfig`: éªŒè¯ 1-1 é…ç½®ç¬¦åˆæ•™å­¦è¦æ±‚
- [ ] è¿è¡Œæµ‹è¯•ï¼š`go test ./pkg/systems -v -run TestTutorial`
- [ ] è¿è¡Œæµ‹è¯•ï¼š`go test ./pkg/config -v -run TestTutorial`

### Task 10: æ‰‹åŠ¨æµ‹è¯•ä¸è°ƒè¯• (AC: 6)
- [ ] å¯åŠ¨æ¸¸æˆï¼ŒåŠ è½½ level-1-1.yaml
- [ ] éªŒè¯å®Œæ•´æ•™å­¦æµç¨‹ï¼ˆ6ä¸ªæ­¥éª¤ï¼‰ï¼š
  - [ ] **æ­¥éª¤1**: æ¸¸æˆå¼€å§‹åç«‹å³æ˜¾ç¤º"ç‚¹å‡»æ”¶é›†æ‰è½çš„é˜³å…‰ï¼"
  - [ ] **æ­¥éª¤2**: ç‚¹å‡»é˜³å…‰åæ˜¾ç¤º"ç»§ç»­æ”¶é›†é˜³å…‰ï¼ä½ éœ€è¦ä»–ä»¬æ¥ç§ä¸‹æ›´å¤šçš„æ¤ç‰©ï¼"
  - [ ] **æ­¥éª¤3**: é˜³å…‰è¾¾åˆ°100åæ˜¾ç¤º"ç‚¹å‡»æ‹¾å–ç§å­åŒ…ï¼"ï¼ˆåº•éƒ¨ä¸­å¤®ï¼Œç™½è‰²æ–‡å­—+é»„è‰²æè¾¹ï¼‰
  - [ ] **æ­¥éª¤4**: ç‚¹å‡»è±Œè±†å°„æ‰‹å¡ç‰‡åæ˜¾ç¤º"ç‚¹å‡»è‰åœ°ç§ä¸‹ä½ çš„ç§å­ï¼"
  - [ ] **æ­¥éª¤5**: ç§æ¤è±Œè±†å°„æ‰‹åæ˜¾ç¤º"å¹²å¾—æ¼‚äº®ï¼"æç¤º
  - [ ] **æ­¥éª¤6**: åƒµå°¸ç”Ÿæˆåæ˜¾ç¤º"åˆ«è®©åƒµå°¸é è¿‘ä½ çš„æˆ¿å­ï¼"æç¤º
  - [ ] æ•™å­¦æ–‡æœ¬æ˜¾ç¤ºä½ç½®ï¼šå±å¹•åº•éƒ¨ä¸­å¤®ï¼ˆéä¸­ä¸Šæ–¹ï¼‰
  - [ ] æ•™å­¦æ–‡æœ¬æ ·å¼ï¼šç™½è‰²æ–‡å­— + é»„è‰²æè¾¹ï¼Œæ— èƒŒæ™¯æ¡†
- [ ] éªŒè¯å…³å¡è®¾ç½®ï¼š
  - [ ] åªæœ‰ç¬¬3è¡Œè‰åœ°å¯ç”¨
  - [ ] åƒµå°¸ç¼“æ…¢å‡ºç°ï¼ˆ2-3åªï¼Œé—´éš”é•¿ï¼‰
  - [ ] æ— å¼€åœºåŠ¨ç”»ï¼Œç›´æ¥è¿›å…¥æ¸¸æˆ
- [ ] éªŒè¯å…³å¡å®Œæˆï¼š
  - [ ] å‡»è´¥æ‰€æœ‰åƒµå°¸åå…³å¡ç»“æŸ
  - [ ] **å‘æ—¥è‘µè§£é”**ï¼ˆéè±Œè±†å°„æ‰‹ï¼Œé€šè¿‡æ—¥å¿—æˆ– PlantUnlockManager æŸ¥è¯¢éªŒè¯ï¼‰
  - [ ] æ˜¾ç¤º"ä½ å¾—åˆ°ä¸€æ ªæ–°æ¤ç‰©ï¼å‘æ—¥è‘µ"ç•Œé¢

### Task 11: æ–‡æ¡£æ›´æ–° (AC: 7)
- [ ] æ›´æ–° `CLAUDE.md`:
  - [ ] åœ¨"å¼€å‘å·¥ä½œæµç¨‹"éƒ¨åˆ†æ·»åŠ "æ•™å­¦ç³»ç»Ÿä½¿ç”¨æŒ‡å—"
  - [ ] è¯´æ˜å¦‚ä½•é…ç½®æ•™å­¦æ­¥éª¤
  - [ ] è¯´æ˜æ•™å­¦è§¦å‘æ¡ä»¶ç±»å‹
  - [ ] æ·»åŠ ç¤ºä¾‹é…ç½®ä»£ç 
- [ ] æ›´æ–° Story æ–‡æ¡£:
  - [ ] å¡«å†™ Dev Agent Record éƒ¨åˆ†
  - [ ] è®°å½•æ‰€æœ‰ä¿®æ”¹å’Œåˆ›å»ºçš„æ–‡ä»¶
  - [ ] è®°å½•æ‰‹åŠ¨æµ‹è¯•ç»“æœ
  - [ ] å°† Status æ›´æ–°ä¸º "Done"

## Dev Notes

### ğŸ¯ åŸç‰ˆæ¸¸æˆæˆªå›¾åˆ†æï¼ˆå…³é”®å‘ç°ï¼‰

**åŸºäº `.meta/screenshot/level1/` æˆªå›¾çš„å‘ç°**ï¼š

1. **å®Œæ•´æ•™å­¦æ­¥éª¤é¡ºåº**ï¼ˆåŸºäº LawnStrings.txt å®Œæ•´æ–‡æœ¬ï¼‰:
   - âœ… **æ­¥éª¤1**: æ¸¸æˆå¼€å§‹ â†’ "ç‚¹å‡»æ”¶é›†æ‰è½çš„é˜³å…‰ï¼"
   - âœ… **æ­¥éª¤2**: ç‚¹å‡»é˜³å…‰ â†’ "ç»§ç»­æ”¶é›†é˜³å…‰ï¼ä½ éœ€è¦ä»–ä»¬æ¥ç§ä¸‹æ›´å¤šçš„æ¤ç‰©ï¼"
   - âœ… **æ­¥éª¤3**: é˜³å…‰è¾¾åˆ°100 â†’ "ç‚¹å‡»æ‹¾å–ç§å­åŒ…ï¼" + å‘ä¸Šç®­å¤´æŒ‡ç¤º
   - âœ… **æ­¥éª¤4**: ç‚¹å‡»å¡ç‰‡ â†’ "ç‚¹å‡»è‰åœ°ç§ä¸‹ä½ çš„ç§å­ï¼"
   - âœ… **æ­¥éª¤5**: ç§æ¤æ¤ç‰© â†’ "å¹²å¾—æ¼‚äº®ï¼"
   - âœ… **æ­¥éª¤6**: åƒµå°¸ç”Ÿæˆ â†’ "åˆ«è®©åƒµå°¸é è¿‘ä½ çš„æˆ¿å­ï¼"

2. **æ•™å­¦æ–‡æœ¬æ ·å¼**ï¼ˆé‡è¦ï¼ï¼‰:
   - âœ… **ä½ç½®**: å±å¹•åº•éƒ¨ä¸­å¤®ï¼ˆéä¸­ä¸Šæ–¹ï¼‰
   - âœ… **å­—ä½“**: ç™½è‰²æ–‡å­— + é»„è‰²æè¾¹ï¼ˆæ— èƒŒæ™¯æ¡†ï¼‰
   - âœ… **å¤§å°**: è¾ƒå¤§å­—ä½“ï¼ˆ28-32pxï¼‰
   - âœ… **åŠ¨ç”»**: æœ‰å‘ä¸Šç®­å¤´æŒ‡ç¤ºç¬¦ï¼ˆæŒ‡å‘æ¤ç‰©å¡ç‰‡ï¼‰

3. **å…³å¡å®Œæˆå¥–åŠ±**:
   - âœ… **è§£é”æ¤ç‰©**: å‘æ—¥è‘µï¼ˆéè±Œè±†å°„æ‰‹ï¼ï¼‰
   - âœ… **è§£é”ç•Œé¢**: æ˜¾ç¤ºæ¤ç‰©å¡ç‰‡ + "ä½ å¾—åˆ°ä¸€æ ªæ–°æ¤ç‰©ï¼" + æ¤ç‰©æè¿°

4. **LawnStrings.txt å®Œæ•´æ–‡æœ¬é”®æ˜ å°„**:
   - âœ… `[ADVICE_CLICK_ON_SUN]` - "ç‚¹å‡»æ”¶é›†æ‰è½çš„é˜³å…‰ï¼"
   - âœ… `[ADVICE_CLICKED_ON_SUN]` - "ç»§ç»­æ”¶é›†é˜³å…‰ï¼ä½ éœ€è¦ä»–ä»¬æ¥ç§ä¸‹æ›´å¤šçš„æ¤ç‰©ï¼"
   - âœ… `[ADVICE_CLICK_SEED_PACKET]` - "ç‚¹å‡»æ‹¾å–ç§å­åŒ…ï¼"
   - âœ… `[ADVICE_CLICK_ON_GRASS]` - "ç‚¹å‡»è‰åœ°ç§ä¸‹ä½ çš„ç§å­ï¼"
   - âœ… `[ADVICE_PLANTED_PEASHOOTER]` - "å¹²å¾—æ¼‚äº®ï¼"
   - âœ… `[ADVICE_ZOMBIE_ONSLAUGHT]` - "åˆ«è®©åƒµå°¸é è¿‘ä½ çš„æˆ¿å­ï¼"

### Previous Story Insights

**ä» Story 8.1 ç»§æ‰¿çš„åŠŸèƒ½**:
- âœ… `LevelConfig` å·²æ‰©å±• `TutorialSteps` å­—æ®µï¼ˆ`[]TutorialStep`ï¼‰
- âœ… `TutorialStep` ç»“æ„ä½“å·²å®šä¹‰ï¼ˆTrigger, TextKey, Actionï¼‰
- âœ… `enabledLanes` é…ç½®å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡ï¼ˆLawnGridSystemï¼‰
- âœ… `PlantUnlockManager` å·²å®ç°å¹¶é›†æˆåˆ° GameState

**Story 8.1 é—ç•™é—®é¢˜**:
- âŒ é€‰å¡ç•Œé¢ UI æœªå®ç°ï¼ˆDEBT-001ï¼‰
- **Story 8.2 å†³ç­–**ï¼šè·³è¿‡é€‰å¡ç•Œé¢ï¼Œ1-1å…³å¡ä»ä¸»èœå•ç›´æ¥è¿›å…¥

### Data Models

#### TutorialComponent
[Source: Epic 8 Integration Approach]

```go
type TutorialComponent struct {
    CurrentStepIndex   int                    // å½“å‰æ•™å­¦æ­¥éª¤ç´¢å¼•ï¼ˆ0-basedï¼‰
    CompletedSteps     map[string]bool        // å·²å®Œæˆæ­¥éª¤çš„è§¦å‘å™¨IDæ˜ å°„
    IsActive           bool                   // æ•™å­¦ç³»ç»Ÿæ˜¯å¦æ¿€æ´»
    TutorialSteps      []config.TutorialStep  // æ•™å­¦æ­¥éª¤é…ç½®ï¼ˆä»LevelConfigå¤åˆ¶ï¼‰
}
```

**ç”¨é€”**: å­˜å‚¨æ•™å­¦ç³»ç»Ÿçš„è¿è¡Œæ—¶çŠ¶æ€ï¼Œè·Ÿè¸ªå½“å‰æ­¥éª¤å’Œå®Œæˆè¿›åº¦ã€‚

#### TutorialTextComponent
[Source: Story 8.2 Design]

```go
type TutorialTextComponent struct {
    Text            string   // æ•™å­¦æ–‡æœ¬å†…å®¹
    DisplayTime     float64  // å·²æ˜¾ç¤ºæ—¶é—´ï¼ˆç§’ï¼‰
    MaxDisplayTime  float64  // æœ€å¤§æ˜¾ç¤ºæ—¶é—´ï¼ˆ0è¡¨ç¤ºæ— é™ï¼‰
    BackgroundAlpha float64  // èƒŒæ™¯é€æ˜åº¦ï¼ˆ0.0-1.0ï¼‰
}
```

**ç”¨é€”**: UIç»„ä»¶ï¼Œæ§åˆ¶æ•™å­¦æ–‡æœ¬çš„æ˜¾ç¤ºå’Œæ¸²æŸ“å±æ€§ã€‚

#### TutorialStep (å·²å­˜åœ¨äº Story 8.1)
[Source: pkg/config/level_config.go]

```go
type TutorialStep struct {
    Trigger string `yaml:"trigger"` // è§¦å‘æ¡ä»¶ï¼š"gameStart", "sunCollected", "plantPlaced", "zombieKilled"
    TextKey string `yaml:"textKey"` // LawnStrings.txt ä¸­çš„æ–‡æœ¬é”®ï¼ˆå¦‚ "ADVICE_CLICK_ON_SUN"ï¼‰
    Action  string `yaml:"action"`  // è§¦å‘åŠ¨ä½œï¼š"waitForSunCollect", "waitForPlantPlaced", "waitForZombieKilled"
}
```

**æ³¨æ„å˜æ›´**: `Text` å­—æ®µæ”¹ä¸º `TextKey`ï¼Œä» `assets/properties/LawnStrings.txt` è¯»å–æœ¬åœ°åŒ–æ–‡æœ¬ã€‚

**è§¦å‘æ¡ä»¶ç±»å‹**:
- `"gameStart"`: æ¸¸æˆå¼€å§‹æ—¶ç«‹å³è§¦å‘
- `"sunClicked"`: ç©å®¶ç‚¹å‡»é˜³å…‰æ—¶è§¦å‘
- `"enoughSun"`: é˜³å…‰è¾¾åˆ°æŒ‡å®šæ•°é‡æ—¶è§¦å‘ï¼ˆå¦‚100ï¼‰
- `"seedClicked"`: ç©å®¶ç‚¹å‡»æ¤ç‰©å¡ç‰‡æ—¶è§¦å‘
- `"plantPlaced"`: ç©å®¶ç§æ¤æ¤ç‰©æ—¶è§¦å‘
- `"zombieSpawned"`: åƒµå°¸ç”Ÿæˆæ—¶è§¦å‘
- `"zombieKilled"`: åƒµå°¸è¢«å‡»è´¥æ—¶è§¦å‘ï¼ˆå¯é€‰ï¼‰

### API Specifications

#### TutorialSystem API
[Source: Story 8.2 Design]

```go
// NewTutorialSystem åˆ›å»ºæ•™å­¦ç³»ç»Ÿå®ä¾‹
// å‚æ•°ï¼š
//   - em: EntityManager å®ä¾‹
//   - gs: GameState å®ä¾‹
//   - levelConfig: å…³å¡é…ç½®ï¼ˆåŒ…å« tutorialStepsï¼‰
// è¿”å›ï¼š
//   - *TutorialSystem: ç³»ç»Ÿå®ä¾‹
func NewTutorialSystem(em *ecs.EntityManager, gs *game.GameState, levelConfig *config.LevelConfig) *TutorialSystem

// Update æ›´æ–°æ•™å­¦ç³»ç»ŸçŠ¶æ€
// å‚æ•°ï¼š
//   - dt: æ—¶é—´å¢é‡ï¼ˆç§’ï¼‰
// åŠŸèƒ½ï¼š
//   - æ£€æŸ¥å½“å‰æ­¥éª¤çš„è§¦å‘æ¡ä»¶
//   - æ˜¾ç¤º/éšè—æ•™å­¦æ–‡æœ¬
//   - æ¨è¿›æ•™å­¦æ­¥éª¤
func (s *TutorialSystem) Update(dt float64)

// checkTriggerCondition æ£€æŸ¥è§¦å‘æ¡ä»¶æ˜¯å¦æ»¡è¶³
// å‚æ•°ï¼š
//   - trigger: è§¦å‘å™¨IDï¼ˆå¦‚ "sunCollected"ï¼‰
// è¿”å›ï¼š
//   - bool: æ¡ä»¶æ˜¯å¦æ»¡è¶³
func (s *TutorialSystem) checkTriggerCondition(trigger string) bool

// showTutorialText æ˜¾ç¤ºæ•™å­¦æ–‡æœ¬
// å‚æ•°ï¼š
//   - text: æ•™å­¦æ–‡æœ¬å†…å®¹
func (s *TutorialSystem) showTutorialText(text string)

// hideTutorialText éšè—æ•™å­¦æ–‡æœ¬
func (s *TutorialSystem) hideTutorialText()
```

### File Locations
[Source: docs/architecture/unified-project-structure.md]

**æ–°å¢æ–‡ä»¶è·¯å¾„**:
- **ç»„ä»¶**:
  - `pkg/components/tutorial_component.go`ï¼ˆæ–°å»ºï¼‰
  - `pkg/components/tutorial_text_component.go`ï¼ˆæ–°å»ºï¼‰
- **ç³»ç»Ÿ**:
  - `pkg/systems/tutorial_system.go`ï¼ˆæ–°å»ºï¼‰
  - `pkg/systems/tutorial_system_test.go`ï¼ˆæ–°å»ºï¼‰
- **æµ‹è¯•**:
  - `pkg/config/level_config_tutorial_test.go`ï¼ˆæ–°å»ºï¼‰
- **å…³å¡é…ç½®**:
  - `data/levels/level-1-1.yaml`ï¼ˆä¿®æ”¹ï¼Œæ·»åŠ  tutorialStepsï¼‰

**ä¿®æ”¹æ–‡ä»¶**:
- `pkg/scenes/game_scene.go`ï¼ˆé›†æˆ TutorialSystemï¼‰
- `pkg/systems/render_system.go`ï¼ˆæ¸²æŸ“æ•™å­¦æ–‡æœ¬ï¼‰æˆ–åˆ›å»º `pkg/systems/tutorial_render_system.go`
- `pkg/systems/level_system.go`ï¼ˆå…³å¡å®Œæˆåè§£é”è±Œè±†å°„æ‰‹ï¼‰

### Component Specifications

#### TutorialComponent ä½¿ç”¨è¯´æ˜
[Source: Story 8.2 Design]

**åˆ›å»ºæ•™å­¦å®ä½“**:
```go
// åœ¨ NewTutorialSystem ä¸­åˆ›å»º
tutorialEntity := em.CreateEntity()
ecs.AddComponent(em, tutorialEntity, &components.TutorialComponent{
    CurrentStepIndex: 0,
    CompletedSteps:   make(map[string]bool),
    IsActive:         true,
    TutorialSteps:    levelConfig.TutorialSteps, // å¤åˆ¶é…ç½®
})
```

**æŸ¥è¯¢æ•™å­¦çŠ¶æ€**:
```go
// åœ¨ TutorialSystem.Update() ä¸­
tutorial, ok := ecs.GetComponent[*components.TutorialComponent](s.entityManager, s.tutorialEntity)
if !ok || !tutorial.IsActive {
    return // æ•™å­¦å·²å®Œæˆæˆ–ä¸å­˜åœ¨
}
```

#### TutorialTextComponent ä½¿ç”¨è¯´æ˜

**æ˜¾ç¤ºæ•™å­¦æ–‡æœ¬**:
```go
// åˆ›å»ºæˆ–æ›´æ–°æ•™å­¦æ–‡æœ¬å®ä½“
textEntity := em.CreateEntity()
ecs.AddComponent(em, textEntity, &components.TutorialTextComponent{
    Text:            "å¤©ç©ºä¸­ä¼šæ‰è½é˜³å…‰ï¼Œç‚¹å‡»æ”¶é›†å®ƒä»¬ï¼",
    DisplayTime:     0,
    MaxDisplayTime:  0, // æ— é™æ˜¾ç¤ºï¼Œç›´åˆ°æ­¥éª¤å®Œæˆ
    BackgroundAlpha: 0.7,
})
ecs.AddComponent(em, textEntity, &components.UIComponent{
    Type:    components.UITypeTutorialText,
    Visible: true,
})
ecs.AddComponent(em, textEntity, &components.PositionComponent{
    X: screenWidth / 2,
    Y: 100,
})
```

### Technical Constraints

#### ECS æ¶æ„çº¦æŸ
[Source: docs/architecture/coding-standards.md#Critical Rules]

- **é›¶è€¦åˆåŸåˆ™**: TutorialSystem ä¸ç›´æ¥è°ƒç”¨å…¶ä»–ç³»ç»Ÿï¼Œé€šè¿‡æŸ¥è¯¢ EntityManager è·å–çŠ¶æ€
- **æ•°æ®-è¡Œä¸ºåˆ†ç¦»**: æ‰€æœ‰ç»„ä»¶å¿…é¡»æ˜¯çº¯æ•°æ®ç»“æ„ï¼Œé€»è¾‘åœ¨ TutorialSystem ä¸­å®ç°
- **æ³›å‹ API ä½¿ç”¨**: ä½¿ç”¨æ³›å‹ ECS APIï¼ˆEpic 9 è§„èŒƒï¼‰

#### è§¦å‘æ¡ä»¶æ£€æµ‹å®ç°
[Source: Story 8.2 Design]

**æ£€æµ‹é€»è¾‘ä¼ªä»£ç **:
```go
func (s *TutorialSystem) checkTriggerCondition(trigger string) bool {
    switch trigger {
    case "gameStart":
        // åœ¨ NewTutorialSystem ä¸­å·²æ ‡è®°ï¼Œç›´æ¥è¿”å› true
        return true
    case "sunCollected":
        // æ£€æŸ¥ GameState é˜³å…‰æ˜¯å¦å¢åŠ 
        return s.gameState.GetSun() > s.lastSunAmount
    case "plantPlaced":
        // æ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„æ¤ç‰©å®ä½“åˆ›å»ºï¼ˆé€šè¿‡è®¡æ•°æˆ–æ ‡è®°ï¼‰
        plantEntities := ecs.GetEntitiesWith1[*components.PlantComponent](s.entityManager)
        return len(plantEntities) > s.lastPlantCount
    case "zombieKilled":
        // æ£€æŸ¥åƒµå°¸æ•°é‡æ˜¯å¦å‡å°‘
        zombieEntities := ecs.GetEntitiesWith1[*components.ZombieComponent](s.entityManager)
        return len(zombieEntities) < s.lastZombieCount
    default:
        return false
    }
}
```

**æ³¨æ„**: TutorialSystem éœ€è¦ç»´æŠ¤çŠ¶æ€å˜é‡ï¼ˆå¦‚ `lastSunAmount`, `lastPlantCount`ï¼‰æ¥æ£€æµ‹å˜åŒ–ã€‚

#### UI æ¸²æŸ“çº¦æŸ
[Source: docs/architecture/tech-stack.md]

- ä¸ä½¿ç”¨ `ebitenui` åº“ï¼Œä½¿ç”¨ Ebitengine Core API æ‰‹åŠ¨å®ç° UI
- æ•™å­¦æ–‡æœ¬ä½¿ç”¨ `SpriteComponent` æˆ–ç›´æ¥ç»˜åˆ¶ï¼ˆ`ebiten.Text`ï¼‰
- UI äº¤äº’é€šè¿‡ `InputSystem` å¤„ç†ï¼ˆå¦‚ç‚¹å‡»å…³é—­æ•™å­¦æ–‡æœ¬ï¼‰

#### æ¸²æŸ“å±‚çº§
[Source: Story 7.3 æ¸²æŸ“å±‚çº§]

```
GameScene.Draw() æ¸²æŸ“é¡ºåºï¼š
  1. èƒŒæ™¯
  2. æ¸¸æˆä¸–ç•Œï¼ˆæ¤ç‰©ã€åƒµå°¸ã€å­å¼¹ï¼‰
  3. UIï¼ˆæ¤ç‰©å¡ç‰‡ï¼‰
  4. ç²’å­æ•ˆæœ
  5. æ¤ç‰©é¢„è§ˆ
  6. æ•™å­¦æ–‡æœ¬ â† æ–°å¢ï¼Œåœ¨é˜³å…‰ä¹‹ä¸‹
  7. é˜³å…‰ï¼ˆæœ€é¡¶å±‚ï¼‰
```

### Testing Requirements

#### Testing Standards
[Source: docs/architecture/testing-strategy.md]

**æµ‹è¯•æ¡†æ¶**: Go æ ‡å‡†åº“ `testing` åŒ…

**æµ‹è¯•æ–‡ä»¶ä½ç½®**: ä¸æºæ–‡ä»¶åŒåŒ…ï¼Œä»¥ `_test.go` ç»“å°¾
- `pkg/systems/tutorial_system_test.go`
- `pkg/config/level_config_tutorial_test.go`

**è¦†ç›–ç‡ç›®æ ‡**: æ ¸å¿ƒé€»è¾‘åŒ…ï¼ˆ`systems`, `config`ï¼‰è¾¾åˆ° 80%+ è¦†ç›–ç‡

**æµ‹è¯•é‡ç‚¹**:
- **å•å…ƒæµ‹è¯•**:
  - TutorialSystem åˆå§‹åŒ–
  - è§¦å‘æ¡ä»¶æ£€æµ‹é€»è¾‘
  - æ•™å­¦æ­¥éª¤æ¨è¿›é€»è¾‘
  - æ•™å­¦å®Œæˆåç³»ç»Ÿç¦ç”¨
  - TutorialSteps é…ç½®è§£æ
- **é›†æˆæµ‹è¯•**:
  - 1-1 å…³å¡é…ç½®åŠ è½½
  - æ•™å­¦æµç¨‹ç«¯åˆ°ç«¯éªŒè¯ï¼ˆæ‰‹åŠ¨æµ‹è¯•ï¼‰

**è¿è¡Œæµ‹è¯•å‘½ä»¤**:
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./...

# è¿è¡Œ TutorialSystem æµ‹è¯•
go test ./pkg/systems -v -run TestTutorial

# è¿è¡Œé…ç½®æµ‹è¯•
go test ./pkg/config -v -run TestTutorial

# æŸ¥çœ‹è¦†ç›–ç‡
go test -cover ./pkg/systems ./pkg/config
```

### Integration Points

#### ä¸ GameScene é›†æˆ
[Source: pkg/scenes/game_scene.go]

**åˆ›å»º TutorialSystem çš„æ¡ä»¶**:
```go
// åœ¨ NewGameScene() ä¸­
if levelConfig.OpeningType == "tutorial" && len(levelConfig.TutorialSteps) > 0 {
    tutorialSystem := systems.NewTutorialSystem(em, gs, levelConfig)
    // æ·»åŠ åˆ°ç³»ç»Ÿåˆ—è¡¨ï¼ˆé¡ºåºï¼šåœ¨ InputSystem ä¹‹åï¼ŒUISystem ä¹‹å‰ï¼‰
}
```

**ç³»ç»Ÿæ›´æ–°é¡ºåº**:
1. InputSystemï¼ˆå¤„ç†ç”¨æˆ·è¾“å…¥ï¼‰
2. TutorialSystemï¼ˆæ£€æµ‹è§¦å‘æ¡ä»¶ï¼Œæ›´æ–°æ•™å­¦çŠ¶æ€ï¼‰
3. UISystemï¼ˆæ¸²æŸ“æ•™å­¦æ–‡æœ¬ï¼‰
4. RenderSystemï¼ˆæ¸²æŸ“æ¸¸æˆä¸–ç•Œï¼‰

#### ä¸ LawnGridSystem é›†æˆ
[Source: Story 8.1 å®ç°]

- `LawnGridSystem.IsLaneEnabled(3)` éªŒè¯åªæœ‰ç¬¬3è¡Œå¯ç”¨
- ç¦ç”¨çš„è¡Œï¼ˆ1, 2, 4, 5ï¼‰ä¸å“åº”ç‚¹å‡»ï¼Œä¸æ˜¾ç¤ºæ¤ç‰©é¢„è§ˆ

#### ä¸ PlantUnlockManager é›†æˆ
[Source: pkg/game/plant_unlock_manager.go]

**è§£é”è±Œè±†å°„æ‰‹**:
```go
// åœ¨å…³å¡å®Œæˆæ—¶
if levelConfig.ID == "1-1" {
    gs.GetPlantUnlockManager().UnlockPlant("peashooter")
    log.Printf("Unlocked plant: peashooter")
}
```

### Configuration Examples

#### 1-1 å…³å¡å®Œæ•´é…ç½®
[Source: .meta/levels/chapter1.md + Story 8.2 Design]

```yaml
id: "1-1"
name: "å‰é™¢ç™½å¤© 1-1"
description: "æ•™å­¦å…³å¡ï¼šå­¦ä¹ åŸºæœ¬çš„æ¤ç‰©ç§æ¤å’Œåƒµå°¸é˜²å¾¡"

# Story 8.1 å­—æ®µ
openingType: "tutorial"          # æ•™å­¦å…³å¡ç±»å‹
enabledLanes: [3]                # åªå¯ç”¨ç¬¬3è¡Œï¼ˆä¸­é—´è¡Œï¼‰
availablePlants: ["peashooter"]  # å¯ç”¨æ¤ç‰©ï¼šåªæœ‰è±Œè±†å°„æ‰‹
skipOpening: true                # è·³è¿‡å¼€åœºåŠ¨ç”»

# Story 8.2 æ–°å¢ï¼šæ•™å­¦æ­¥éª¤ï¼ˆä½¿ç”¨ LawnStrings.txt æ–‡æœ¬é”®ï¼‰
tutorialSteps:
  - trigger: "gameStart"
    textKey: "ADVICE_CLICK_ON_SUN"  # "ç‚¹å‡»æ”¶é›†æ‰è½çš„é˜³å…‰ï¼"
    action: "waitForSunClick"
  - trigger: "sunClicked"
    textKey: "ADVICE_CLICKED_ON_SUN"  # "ç»§ç»­æ”¶é›†é˜³å…‰ï¼ä½ éœ€è¦ä»–ä»¬æ¥ç§ä¸‹æ›´å¤šçš„æ¤ç‰©ï¼"
    action: "waitForEnoughSun"
  - trigger: "enoughSun"
    textKey: "ADVICE_CLICK_SEED_PACKET"  # "ç‚¹å‡»æ‹¾å–ç§å­åŒ…ï¼"
    action: "waitForSeedClick"
  - trigger: "seedClicked"
    textKey: "ADVICE_CLICK_ON_GRASS"  # "ç‚¹å‡»è‰åœ°ç§ä¸‹ä½ çš„ç§å­ï¼"
    action: "waitForPlantPlaced"
  - trigger: "plantPlaced"
    textKey: "ADVICE_PLANTED_PEASHOOTER"  # "å¹²å¾—æ¼‚äº®ï¼"
    action: "waitForZombieSpawn"
  - trigger: "zombieSpawned"
    textKey: "ADVICE_ZOMBIE_ONSLAUGHT"  # "åˆ«è®©åƒµå°¸é è¿‘ä½ çš„æˆ¿å­ï¼"
    action: "waitForLevelEnd"

# åƒµå°¸é…ç½®ï¼š1æ³¢ï¼Œ2-3åªï¼Œé—´éš”é•¿
waves:
  - time: 15
    zombies:
      - type: "basic"
        lane: 3
        count: 1
  - time: 25
    zombies:
      - type: "basic"
        lane: 3
        count: 1
  - time: 35
    zombies:
      - type: "basic"
        lane: 3
        count: 1
```

**å…³å¡ç‰¹ç‚¹**:
- **åœºåœ°**: ä»…ç¬¬3è¡Œè‰åœ°
- **æ³¢æ¬¡**: 3æ³¢ï¼Œæ¯æ³¢1åªåƒµå°¸ï¼Œé—´éš”10ç§’
- **æ•™å­¦**: 3ä¸ªæ•™å­¦æ­¥éª¤ï¼Œå¼ºåˆ¶å¼•å¯¼
- **è§£é”**: å®Œæˆåè§£é”è±Œè±†å°„æ‰‹

### Potential Challenges

#### æŒ‘æˆ˜ 1: è§¦å‘æ¡ä»¶æ£€æµ‹çš„å‡†ç¡®æ€§
**é—®é¢˜**: å¦‚ä½•å‡†ç¡®æ£€æµ‹"æ”¶é›†é˜³å…‰"ã€"ç§æ¤æ¤ç‰©"ç­‰äº‹ä»¶ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**:
- **æ–¹æ¡ˆ Aï¼ˆæ¨èï¼‰**: TutorialSystem ç»´æŠ¤çŠ¶æ€å˜é‡ï¼ˆ`lastSunAmount`, `lastPlantCount`ï¼‰ï¼Œæ¯å¸§æ£€æµ‹å˜åŒ–
- **æ–¹æ¡ˆ B**: ä½¿ç”¨äº‹ä»¶ç³»ç»Ÿï¼ˆEventBusï¼‰ï¼Œå…¶ä»–ç³»ç»Ÿå‘å¸ƒäº‹ä»¶ï¼ŒTutorialSystem è®¢é˜…
- **æ–¹æ¡ˆ C**: åœ¨ InputSystem ä¸­æ·»åŠ æ•™å­¦é’©å­ï¼Œç›´æ¥é€šçŸ¥ TutorialSystem

**é€‰æ‹©æ–¹æ¡ˆ A çš„ç†ç”±**:
- ç®€å•ç›´æ¥ï¼Œæ— éœ€å¼•å…¥äº‹ä»¶ç³»ç»Ÿ
- ä¸ç°æœ‰ ECS æ¶æ„ä¸€è‡´
- æ€§èƒ½å¼€é”€å¯å¿½ç•¥ï¼ˆæ¯å¸§æ£€æµ‹å‡ ä¸ªæ•´æ•°æ¯”è¾ƒï¼‰

#### æŒ‘æˆ˜ 2: æ•™å­¦æ–‡æœ¬çš„æ˜¾ç¤ºä½ç½®å’Œå¯è¯»æ€§
**é—®é¢˜**: æ•™å­¦æ–‡æœ¬å¦‚ä½•æ˜¾ç¤ºæ‰ä¸é®æŒ¡æ¸¸æˆåŒºåŸŸä¸”æ¸…æ™°å¯è¯»ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**:
- **ä½ç½®**: å±å¹•ä¸­ä¸Šæ–¹ï¼ˆY: 100pxï¼‰ï¼Œæ°´å¹³å±…ä¸­
- **èƒŒæ™¯**: åŠé€æ˜é»‘è‰²èƒŒæ™¯æ¡†ï¼ˆAlpha: 0.7ï¼‰
- **å­—ä½“**: ç™½è‰²ï¼Œ24pxï¼Œç²—ä½“ï¼ˆå¦‚æœæ”¯æŒï¼‰
- **è¾¹è·**: æ–‡æœ¬æ¡†å†…è¾¹è· 20px
- **åŠ¨ç”»**: æ·¡å…¥æ•ˆæœï¼ˆå¯é€‰ï¼Œåç»­ä¼˜åŒ–ï¼‰

**å‚è€ƒåŸç‰ˆ PVZ**:
- åŸç‰ˆä½¿ç”¨å›¾ç‰‡+æ–‡æœ¬çš„æ–¹å¼
- å½“å‰å®ç°å¯ä»¥å…ˆç”¨çº¯æ–‡æœ¬ï¼Œåç»­ä¼˜åŒ–ä¸ºå›¾ç‰‡

#### æŒ‘æˆ˜ 3: æ•™å­¦ä¸æ­£å¸¸æ¸¸æˆé€»è¾‘çš„å†²çª
**é—®é¢˜**: æ•™å­¦æ¿€æ´»æ—¶ï¼ŒæŸäº›æ“ä½œåº”è¢«ç¦æ­¢ï¼ˆå¦‚ï¼šæ”¶é›†é˜³å…‰å‰ä¸èƒ½é€‰æ‹©æ¤ç‰©å¡ç‰‡ï¼‰

**è§£å†³æ–¹æ¡ˆ**:
- **é€‰é¡¹ 1ï¼ˆæ¨èï¼‰**: ä¸é™åˆ¶æ“ä½œï¼Œåªå¼•å¯¼ç©å®¶
  - ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œç©å®¶è‡ªç”±åº¦é«˜
  - ç¼ºç‚¹ï¼šå¯èƒ½è·³è¿‡æ•™å­¦æ­¥éª¤
- **é€‰é¡¹ 2**: åœ¨ InputSystem ä¸­æ£€æŸ¥æ•™å­¦çŠ¶æ€ï¼Œç¦æ­¢æŸäº›æ“ä½œ
  - ä¼˜ç‚¹ï¼šå¼ºåˆ¶å¼•å¯¼ï¼Œæ•™å­¦æ•ˆæœå¥½
  - ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œéœ€è¦ InputSystem ä¸ TutorialSystem é€šä¿¡

**å»ºè®®**: å…ˆå®ç°é€‰é¡¹1ï¼ˆä¸é™åˆ¶ï¼‰ï¼Œå¦‚æœæ•™å­¦æ•ˆæœä¸ä½³å†æ”¹ä¸ºé€‰é¡¹2ã€‚

#### æŒ‘æˆ˜ 4: 1-1 å…³å¡å¦‚ä½•è¿›å…¥ï¼ˆè·³è¿‡é€‰å¡ç•Œé¢ï¼‰
**é—®é¢˜**: Story 8.1 çš„é€‰å¡ç•Œé¢ UI æœªå®ç°ï¼Œ1-1 å¦‚ä½•è¿›å…¥ï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼ˆæ–¹æ¡ˆ2å·²ç¡®è®¤ï¼‰**:
- ä»ä¸»èœå•æˆ–å…³å¡é€‰æ‹©ç•Œé¢ç›´æ¥è¿›å…¥ GameScene
- `SceneManager` ç›´æ¥åˆ‡æ¢åˆ° GameSceneï¼Œä¼ é€’ `levelConfig`
- æ•™å­¦å…³å¡ä¸ç»è¿‡é€‰å¡ç•Œé¢
- **ä»£ç ç¤ºä¾‹**:
  ```go
  // åœ¨ä¸»èœå•æˆ–å…³å¡é€‰æ‹©ä¸­
  levelConfig := config.LoadLevelConfig("data/levels/level-1-1.yaml")
  gameScene := scenes.NewGameScene(entityManager, resourceManager, levelConfig)
  sceneManager.SwitchToScene(gameScene)
  ```

### Dependencies on Other Stories

- **ä¾èµ– Story 8.1**:
  - âœ… `TutorialStep` ç»“æ„ä½“å·²å®šä¹‰
  - âœ… `LevelConfig` å·²æ‰©å±• `TutorialSteps` å­—æ®µ
  - âœ… `enabledLanes` å·²å®ç°
  - âœ… `PlantUnlockManager` å·²å®ç°
- **é˜»å¡ Story 8.3**:
  - Story 8.3ï¼ˆå¼€åœºåŠ¨ç”»ç³»ç»Ÿï¼‰ä¾èµ– Story 8.2 çš„ `openingType` å­—æ®µ
  - æ•™å­¦å…³å¡ï¼ˆ`openingType: "tutorial"`ï¼‰è·³è¿‡å¼€åœºåŠ¨ç”»
- **ä¸ Story 8.1 çš„å…³ç³»**:
  - Story 8.1 çš„é€‰å¡ç•Œé¢ UIï¼ˆDEBT-001ï¼‰ä¸å½±å“ Story 8.2
  - 1-1 å…³å¡ç›´æ¥è¿›å…¥ï¼Œä¸ç»è¿‡é€‰å¡ç•Œé¢

### Reference Materials

**ç™½çš®ä¹¦**:
- `.meta/levels/chapter1.md` - å…³å¡ 1-1 è¯¦ç»†è¯´æ˜
  - åœºåœ°ï¼šä»…ä¸­é—´1è¡Œ
  - æ³¢æ¬¡ï¼š1æ³¢ï¼Œ2-3åªåƒµå°¸
  - æ•™å­¦æµç¨‹ï¼šæ”¶é›†é˜³å…‰ â†’ é€‰æ‹©æ¤ç‰© â†’ ç§æ¤æ¤ç‰©

**æ¸¸æˆæ–‡æœ¬èµ„æº (å…³é”®)**:
- `assets/properties/LawnStrings.txt` - åŸç‰ˆæ¸¸æˆæ–‡æœ¬å­—ç¬¦ä¸²ï¼ˆç®€ä½“ä¸­æ–‡ï¼‰
  - **æ•™å­¦ç›¸å…³æ–‡æœ¬é”®**ï¼š
    - `[ADVICE_CLICK_ON_SUN]` - "ç‚¹å‡»æ”¶é›†æ‰è½çš„é˜³å…‰ï¼"
    - `[ADVICE_CLICK_PEASHOOTER]` - "ç‚¹å‡»è±Œè±†å°„æ‰‹ï¼Œå†ç§ä¸€é¢—ï¼"
    - `[ADVICE_PLANT_SUNFLOWER1-5]` - å‘æ—¥è‘µç§æ¤æç¤º
    - `[ADVICE_PLANTED_PEASHOOTER]` - "å¹²å¾—æ¼‚äº®ï¼"
    - `[ADVICE_CLICK_SEED_PACKET]` - "ç‚¹å‡»æ‹¾å–ç§å­åŒ…ï¼"
    - `[ADVICE_CLICK_ON_GRASS]` - "ç‚¹å‡»è‰åœ°ç§ä¸‹ä½ çš„ç§å­ï¼"
    - `[ADVICE_CLICKED_ON_SUN]` - "ç»§ç»­æ”¶é›†é˜³å…‰ï¼ä½ éœ€è¦ä»–ä»¬æ¥ç§ä¸‹æ›´å¤šçš„æ¤ç‰©ï¼"
    - `[ADVICE_ZOMBIE_ONSLAUGHT]` - "åˆ«è®©åƒµå°¸é è¿‘ä½ çš„æˆ¿å­ï¼"
  - **æ–‡æœ¬æ ¼å¼**: `[KEY]\næ–‡æœ¬å†…å®¹\n`
  - **ä½¿ç”¨æ–¹å¼**: TutorialSystem æ ¹æ® `textKey` ä»æ­¤æ–‡ä»¶åŠ è½½æœ¬åœ°åŒ–æ–‡æœ¬

**æ‰€éœ€æ¸¸æˆèµ„æºæ¸…å• (å®Œæ•´)**:

**1. å­—ä½“èµ„æº**:
- âœ… `assets/data/HouseofTerror28.png` - æ•™å­¦æ–‡æœ¬ä¸»å­—ä½“ï¼ˆ28pxï¼Œç™½è‰²+é»„è‰²æè¾¹ï¼‰
- âœ… `assets/data/HouseofTerror28.txt` - å­—ä½“å…ƒæ•°æ®æ–‡ä»¶
- ğŸ“ **ç”¨é€”**: æ¸²æŸ“æ•™å­¦æç¤ºæ–‡æœ¬ï¼ˆ"ç‚¹å‡»æ”¶é›†æ‰è½çš„é˜³å…‰ï¼"ç­‰ï¼‰
- ğŸ“ **æ ·å¼**: ç™½è‰²æ–‡å­— + é»„è‰²æè¾¹ï¼ˆstrokeï¼‰ï¼Œæ— èƒŒæ™¯æ¡†
- ğŸ“ **ä½ç½®**: å±å¹•åº•éƒ¨å±…ä¸­ï¼ˆY: å±å¹•é«˜åº¦ - 100pxï¼‰

**2. èƒŒæ™¯èµ„æº**:
- âœ… `assets/images/background1.jpg` - å‰é™¢ç™½å¤©èƒŒæ™¯ï¼ˆå·²åœ¨ GameScene ä½¿ç”¨ï¼‰
- ğŸ“ **ç”¨é€”**: 1-1 å…³å¡æ¸¸æˆèƒŒæ™¯
- ğŸ“ **å°ºå¯¸**: 1400x600ï¼ˆæ ‡å‡†å…³å¡èƒŒæ™¯ï¼‰

**3. UI å›¾ç‰‡èµ„æº**:
- âœ… `assets/images/SeedBank.png` - æ¤ç‰©å¡ç‰‡æ èƒŒæ™¯ï¼ˆå·²å®ç°ï¼‰
- âœ… `assets/images/SunBank.png` - é˜³å…‰è®¡æ•°å™¨èƒŒæ™¯ï¼ˆå·²å®ç°ï¼‰
- âœ… `assets/images/packet_plants.png` - æ¤ç‰©å¡ç‰‡å›¾é›†ï¼ˆå·²å®ç°ï¼‰
- ğŸ“ **ç”¨é€”**: æ¸¸æˆ UI å…ƒç´ ï¼Œæ•™å­¦ä¸­ä¼šå¼•å¯¼ç©å®¶ç‚¹å‡»

**4. éŸ³æ•ˆèµ„æº** (æ•™å­¦ç³»ç»Ÿç›¸å…³):
- âœ… `assets/sounds/buttonclick.ogg` - æŒ‰é’®ç‚¹å‡»éŸ³æ•ˆï¼ˆå·²å®ç°ï¼‰
- âœ… `assets/sounds/seedlift.ogg` - é€‰æ‹©æ¤ç‰©å¡ç‰‡éŸ³æ•ˆï¼ˆå·²å®ç°ï¼‰
- âœ… `assets/sounds/plant.ogg` - ç§æ¤æ¤ç‰©éŸ³æ•ˆï¼ˆå·²å®ç°ï¼‰
- âœ… `assets/sounds/coin.ogg` - æ”¶é›†é˜³å…‰éŸ³æ•ˆï¼ˆå·²å®ç°ï¼‰
- âš ï¸ `assets/sounds/readysetplant.ogg` - **å¾…ç¡®è®¤**: å…³å¡å¼€å§‹æç¤ºéŸ³ï¼ˆå¯èƒ½ç”¨äºæ•™å­¦å¼€å§‹ï¼‰
- ğŸ“ **ç”¨é€”**: ç©å®¶æ“ä½œåé¦ˆï¼Œå¢å¼ºæ•™å­¦ä½“éªŒ

**5. ç²’å­æ•ˆæœèµ„æº** (å¯é€‰ï¼Œå¢å¼ºè§†è§‰æ•ˆæœ):
- âš ï¸ `assets/effect/particles/Award.xml` - **å¾…ç¡®è®¤**: æ•™å­¦æ­¥éª¤å®Œæˆå¥–åŠ±æ•ˆæœ
- âš ï¸ `assets/particles/AwardPickupGlow.png` - å¥–åŠ±å…‰æ•ˆå›¾ç‰‡
- âš ï¸ `assets/particles/DownArrow.png` - **å…³é”®**: å‘ä¸‹ç®­å¤´æŒ‡ç¤ºç¬¦ï¼ˆæŒ‡å‘é˜³å…‰/è‰åœ°ï¼‰
- ğŸ“ **ç”¨é€”**: å¼•å¯¼ç©å®¶æ³¨æ„ç‰¹å®š UI å…ƒç´ æˆ–åŒºåŸŸ
- ğŸ“ **ä¼˜å…ˆçº§**: ä½ï¼ˆå¯åœ¨åç»­è¿­ä»£æ·»åŠ ï¼‰

**6. åŠ¨ç”»èµ„æº**:
- âœ… `assets/reanim/PeaShooter.reanim` - è±Œè±†å°„æ‰‹åŠ¨ç”»ï¼ˆå·²å®ç°ï¼‰
- âœ… `assets/reanim/Sunflower.reanim` - å‘æ—¥è‘µåŠ¨ç”»ï¼ˆå·²å®ç°ï¼‰
- âœ… `assets/reanim/Zombie.reanim` - æ™®é€šåƒµå°¸åŠ¨ç”»ï¼ˆå·²å®ç°ï¼‰
- âœ… `assets/reanim/Sun.png` - é˜³å…‰å›¾ç‰‡ï¼ˆå·²å®ç°ï¼‰
- ğŸ“ **ç”¨é€”**: æ¸¸æˆä¸–ç•Œå®ä½“æ¸²æŸ“

**7. å…³å¡é…ç½®èµ„æº**:
- ğŸ“ `data/levels/level-1-1.yaml` - 1-1 å…³å¡é…ç½®ï¼ˆæœ¬ Story åˆ›å»ºï¼‰
- ğŸ“ **å†…å®¹**: æ•™å­¦æ­¥éª¤ã€å¯ç”¨è¡Œæ•°ã€åƒµå°¸æ³¢æ¬¡ç­‰

**èµ„æºåŠ è½½æ—¶åº**:
```
GameScene åˆå§‹åŒ–
  â†“
ResourceManager.LoadResourceGroup("loadingimages")  â† åŠ è½½æ¸¸æˆèµ„æº
  â†“
LawnStrings åŠ è½½ (Task 3)  â† assets/properties/LawnStrings.txt
  â†“
LevelConfig åŠ è½½  â† data/levels/level-1-1.yaml
  â†“
TutorialSystem åˆå§‹åŒ–  â† è¯»å– tutorialSteps
  â†“
å­—ä½“åŠ è½½ (HouseofTerror28)  â† Task 5 æ¸²æŸ“éœ€æ±‚
```

**èµ„æºä¼˜å…ˆçº§**:
- âœ… **P0 - å¿…é¡»å®ç°**: å­—ä½“ï¼ˆHouseofTerror28ï¼‰ã€æ–‡æœ¬ï¼ˆLawnStrings.txtï¼‰ã€å…³å¡é…ç½®
- âœ… **P1 - å·²å®ç°**: èƒŒæ™¯ã€UI å›¾ç‰‡ã€éŸ³æ•ˆã€åŠ¨ç”»ï¼ˆä¾èµ–ç°æœ‰ç³»ç»Ÿï¼‰
- âš ï¸ **P2 - å¯é€‰å¢å¼º**: ç²’å­æ•ˆæœï¼ˆç®­å¤´æŒ‡ç¤ºç¬¦ï¼‰ã€å¼€å§‹æç¤ºéŸ³

**ç°æœ‰å®ç°**:
- `pkg/config/level_config.go` - LevelConfig å’Œ TutorialStep å®šä¹‰
- `pkg/game/plant_unlock_manager.go` - æ¤ç‰©è§£é”ç®¡ç†å™¨
- `pkg/systems/lawn_grid_system.go` - è¡Œæ•°é™åˆ¶å®ç°
- `pkg/game/resource_manager.go` - èµ„æºç®¡ç†å™¨ï¼ˆå¯ç”¨äºåŠ è½½ LawnStrings.txtï¼‰

## Change Log

| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| 2025-10-16 | 1.0 | Story 8.2 åˆå§‹åˆ›å»ºï¼Œå®šä¹‰ 1-1 æ•™å­¦å¼•å¯¼ç³»ç»Ÿå®ç° | Bob (Scrum Master) |
| 2025-10-16 | 1.1 | é‡å¤§æ›´æ–°ï¼šæ”¹ç”¨ LawnStrings.txt ä½œä¸ºæ•™å­¦æ–‡æœ¬æ¥æºï¼Œæ–°å¢ LawnStrings åŠ è½½å™¨ä»»åŠ¡ï¼Œæ›´æ–°æ‰€æœ‰ç›¸å…³é…ç½®å’Œæ–‡æ¡£ | Bob (Scrum Master) |
| 2025-10-16 | 1.2 | åŸºäºåŸç‰ˆæˆªå›¾åˆ†æï¼Œä¿®æ­£æ•™å­¦æ­¥éª¤é¡ºåºã€æ–‡æœ¬é”®ã€æ¸²æŸ“æ ·å¼ã€è§£é”æ¤ç‰©ï¼ˆå‘æ—¥è‘µéè±Œè±†å°„æ‰‹ï¼‰ï¼Œç¡®ä¿ä¸åŸç‰ˆå®Œå…¨ä¸€è‡´ | Bob (Scrum Master) |
| 2025-10-16 | 1.3 | å®Œå–„æ•™å­¦æµç¨‹ï¼šåŸºäº LawnStrings.txt å®Œæ•´æ–‡æœ¬èµ„æºï¼Œè¡¥å……é—æ¼çš„æ•™å­¦æ­¥éª¤ï¼ˆ6æ­¥å®Œæ•´æµç¨‹ï¼šgameStartâ†’sunClickedâ†’enoughSunâ†’seedClickedâ†’plantPlacedâ†’zombieSpawnedï¼‰ | Bob (Scrum Master) |
| 2025-10-16 | 1.4 | **è¡¥å……å®Œæ•´èµ„æºæ¸…å•**ï¼šåŸºäº assets ç›®å½•å®Œæ•´åˆ†æï¼Œæ˜ç¡®æ‰€æœ‰éœ€è¦çš„å­—ä½“ï¼ˆHouseofTerror28ï¼‰ã€éŸ³æ•ˆã€ç²’å­ã€åŠ¨ç”»èµ„æºï¼Œæ ‡æ³¨ä¼˜å…ˆçº§å’ŒåŠ è½½æ—¶åºï¼›æ‰©å±• Task 5 ä¸ºä½å›¾å­—ä½“æ¸²æŸ“è¯¦ç»†æ–¹æ¡ˆï¼ˆå«ä»£ç éª¨æ¶ï¼‰ | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
*å¾… Dev Agent å¡«å†™*

### Debug Log References
*å¾… Dev Agent å¡«å†™*

### Completion Notes List
*å¾… Dev Agent å¡«å†™*

### File List
*å¾… Dev Agent å¡«å†™*

## QA Results
*å¾… QA Agent å¡«å†™*
