# **8. Test Strategy and Standards (测试策略与标准)**

## **Testing Philosophy (测试理念)**
*   **方法:** 采用测试驱动开发（TDD）的变体。在实现复杂的游戏逻辑（如伤害计算、单位行为）之前，先编写单元测试来定义和验证其行为。
*   **覆盖率目标:** 对核心逻辑包（如`systems`, `components`）的目标是达到80%以上的单元测试覆盖率。对UI和场景相关的包不作强制要求。
*   **测试金字塔:** 重点投入单元测试（Unit Tests），辅以少量的集成测试（Integration Tests）来验证系统间的交互。暂不考虑端到端测试（E2E Tests）。

## **Test Types and Organization (测试类型与组织)**
*   **单元测试 (Unit Tests):**
    *   **框架:** 使用Go标准库的`testing`包。
    *   **位置:** 测试文件与被测试的源文件位于同一个包下，以`_test.go`结尾。
    *   **范围:** 重点测试独立的、无副作用的函数和算法。
*   **集成测试 (Integration Tests):**
    *   **范围:** 测试多个系统协同工作的场景。
    *   **实现:** 创建一个“测试用”的ECS环境，运行多个系统的Update循环，最后断言实体状态的最终结果。
