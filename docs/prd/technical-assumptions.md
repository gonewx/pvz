# **4. Technical Assumptions (技术假设)**

## **Repository Structure: Monorepo (单体仓库)**
*   我们将采用单体仓库（Monorepo）的结构。尽管当前项目只有一个核心应用，但这种结构为未来可能的扩展（如独立的关卡编辑器、后端服务等）提供了便利，并且便于管理共享代码和配置。

## **Service Architecture (服务架构)**
*   **架构:** Monolith (单体应用)。
*   **说明:** 整个游戏将作为一个独立的、单一的编译后可执行文件。所有游戏逻辑、渲染和状态管理都在这一个进程中完成。这对于一个客户端游戏来说是标准且最高效的架构，完全符合我们的学习目标。

## **Testing Requirements (测试要求)**
*   **要求:** Unit + Integration (单元测试 + 集成测试)。
*   **说明:** 我们将对核心的、无副作用的游戏逻辑（例如伤害计算、阳光生成算法）编写单元测试，以确保其正确性。对于模块间的交互（例如植物与僵尸的互动），我们将通过集成测试来验证。这有助于我们学习如何在Go中编写可测试的游戏代码。

## **Additional Technical Assumptions and Requests (其他技术假设与要求)**
*   **语言和引擎:** 严格使用Go语言和Ebitengine游戏引擎的最新稳定版本。
*   **依赖最小化:** 优先使用Go标准库和Ebitengine内置功能，谨慎引入第三方依赖，以保持项目简洁和聚焦。
*   **数据驱动:** 鼓励采用数据驱动的设计。植物、僵尸和关卡的属性（如生命值、攻击力、生成顺序）应从外部配置文件（如JSON或YAML）加载，而不是硬编码在代码中。这极大地简化了数值调整和未来内容的扩展。
*   **平台:** 优先为PC平台（Windows, macOS, Linux）构建，但代码实现应考虑跨平台兼容性，为未来可能的Web（WASM）或移动端移植做准备。
