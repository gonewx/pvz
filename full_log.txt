2025/10/21 14:27:35 Loading all resources...
2025/10/21 14:27:35 [ResourceManager] Loading all resource groups (29 groups total)...
2025/10/21 14:27:36 [ResourceManager] Successfully loaded 29/29 resource groups
2025/10/21 14:27:36 Loading reward panel resources...
2025/10/21 14:27:36 Loading Reanim resources...
2025/10/21 14:27:36 [ResourceManager] Loading plant reanim: PeaShooter
2025/10/21 14:27:36 [ResourceManager] Successfully loaded PeaShooter reanim
2025/10/21 14:27:36 [ResourceManager] Loading plant reanim: SunFlower
2025/10/21 14:27:36 [ResourceManager] Successfully loaded SunFlower reanim
2025/10/21 14:27:36 [ResourceManager] Loading plant reanim: Wallnut
2025/10/21 14:27:36 [ResourceManager] Successfully loaded Wallnut reanim
2025/10/21 14:27:36 [ResourceManager] Loading plant reanim: CherryBomb
2025/10/21 14:27:36 [ResourceManager] Successfully loaded CherryBomb reanim
2025/10/21 14:27:36 [ResourceManager] Loading effect reanim: Sun from assets/effect/reanim/Sun.reanim
2025/10/21 14:27:36 [ResourceManager] Parsed Sun.reanim: FPS=12, Tracks=3
2025/10/21 14:27:36 [ResourceManager] Loaded 3 part images for Sun
2025/10/21 14:27:36 [ResourceManager]   - IMAGE_REANIM_SUN3
2025/10/21 14:27:36 [ResourceManager]   - IMAGE_REANIM_SUN2
2025/10/21 14:27:36 [ResourceManager]   - IMAGE_REANIM_SUN1
2025/10/21 14:27:36 [ResourceManager] Loading effect reanim: SodRoll from assets/effect/reanim/SodRoll.reanim
2025/10/21 14:27:36 [ResourceManager] Parsed SodRoll.reanim: FPS=24, Tracks=2
2025/10/21 14:27:36 [ResourceManager] Loaded 2 part images for SodRoll
2025/10/21 14:27:36 [ResourceManager]   - IMAGE_REANIM_SODROLL
2025/10/21 14:27:36 [ResourceManager]   - IMAGE_REANIM_SODROLLCAP
2025/10/21 14:27:36 ╔════════════════════════════════════════════════════════╗
2025/10/21 14:27:36 ║      完整奖励动画流程验证程序 (Story 8.3 + 8.4)         ║
2025/10/21 14:27:36 ╚════════════════════════════════════════════════════════╝
2025/10/21 14:27:36 [VerifyRewardAnimation] 测试植物: sunflower
2025/10/21 14:27:36 
2025/10/21 14:27:36 【验证流程】
2025/10/21 14:27:36   Phase 1: appearing     - 卡片包弹出动画 (0.3s)
2025/10/21 14:27:36   Phase 2: waiting       - 等待用户点击 (手动触发)
2025/10/21 14:27:36   Phase 3: expanding     - 卡片包移动+展开动画 (2s)
2025/10/21 14:27:36   Phase 3.5: pausing     - 短暂停顿+Award粒子 (0.5s)
2025/10/21 14:27:36   Phase 3.6: disappearing - 卡片包渐渐消失 (0.3s)
2025/10/21 14:27:36   Phase 4: showing       - 显示奖励面板 (持续)
2025/10/21 14:27:36 
2025/10/21 14:27:36 【快捷键】
2025/10/21 14:27:36   Space/Click - 展开卡片包 (Phase 2)
2025/10/21 14:27:36   R - 重启验证
2025/10/21 14:27:36   Q - 退出程序
2025/10/21 14:27:36 ════════════════════════════════════════════════════════
2025/10/21 14:27:36 [VerifyRewardAnimation] 自动触发奖励动画
2025/10/21 14:27:36 [RewardAnimationSystem] 触发奖励动画，植物ID: sunflower
2025/10/21 14:27:36 [RewardAnimationSystem] ===== 位置计算调试信息 =====
2025/10/21 14:27:36 [RewardAnimationSystem] 屏幕宽度: 800.0, 屏幕中心X: 400.0
2025/10/21 14:27:36 [RewardAnimationSystem] 起始屏幕坐标: (657.8, 426.0)
2025/10/21 14:27:36 [RewardAnimationSystem] 卡片宽度(scale=1.0): 100.0
2025/10/21 14:27:36 [RewardAnimationSystem] 目标X计算: 400.0 - 100.0/2 = 350.0
2025/10/21 14:27:36 [RewardAnimationSystem] 卡片包起始位置: (657.8, 426.0), 目标位置: (350.0, 126.0)
2025/10/21 14:27:36 [RewardAnimationSystem] 随机行: 3
2025/10/21 14:27:36 [ReanimSystem] 计算中心偏移 - 边界框: X[5.6, 67.8], Y[14.4, 77.7], 中心偏移: (36.7, 46.0)
2025/10/21 14:27:36 [PlantCardFactory] Rendered plant icon: SunFlower (80x90)
2025/10/21 14:27:36 [PlantCardFactory] Created plant card (Type: 1, Cost: 50, Icon: 80x90)
2025/10/21 14:27:36 [RewardAnimationSystem] 卡片包已创建（使用 Story 8.4 统一工厂方法）
2025/10/21 14:27:36 [RenderSystem] DrawParticles: cameraX=220.0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:36 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=appearing, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Phase 1 (appearing) 完成，切换到 waiting
2025/10/21 14:27:37 [ParticleFactory] CreateParticleEffect 被调用: effectName='SeedPacket', 位置=(682.8, 399.0), angleOffset=0.0°, isUIParticle=true
2025/10/21 14:27:37 [ParticleFactory] 粒子配置加载成功: 2 个发射器
2025/10/21 14:27:37 [ParticleFactory] 发射器实体创建成功: ID=4, Name='', SpawnRate=0.00, SystemDuration=1.00, isUI=true
2025/10/21 14:27:37 [ParticleFactory] 发射器实体创建成功: ID=5, Name='SeedPacketGlow', SpawnRate=0.00, SystemDuration=1.00, isUI=true
2025/10/21 14:27:37 [RewardAnimationSystem] 创建光晕粒子成功: ID=4（验证主粒子假设，基准位置=(682.8, 399.0)）
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [DEBUG] 创建粒子: pos=(682.8,399.0), velocity=(0.0,0.0), angle=0.0°, speed=0.0, groundY=0.0, image=true
2025/10/21 14:27:37 [DEBUG] 粒子创建 - Position Field: X='', Y='0 Linear 10,50 Linear 0'
2025/10/21 14:27:37 [DEBUG] 创建粒子: pos=(682.8,461.0), velocity=(0.0,0.0), angle=0.0°, speed=0.0, groundY=0.0, image=true
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:37 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
2025/10/21 14:27:38 [RewardAnimationSystem] Draw: currentPhase=waiting, panelEntity=0
